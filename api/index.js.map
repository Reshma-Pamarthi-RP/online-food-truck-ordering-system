{
  "version": 3,
  "sources": ["<stdin>", "../app/entry.server.tsx", "../app/root.tsx", "../app/components/404.tsx", "../app/context/CartContext.tsx", "../app/utils/hooks.ts", "../app/session.server.ts", "../app/lib/user.server.ts", "../app/db.server.ts", "../app/utils/misc.ts", "../appConfig.ts", "../app/routes/api/food-trucks/schedule.ts", "../app/utils/misc.server.ts", "../app/routes/api/reset-password.ts", "../app/routes/api/auth/logout.tsx", "../app/routes/__auth.tsx", "../app/routes/__auth/register.tsx", "../app/routes/__auth/login.tsx", "../app/lib/zod.schema.ts", "../app/utils/validation.ts", "../app/routes/__app.tsx", "../app/components/TailwindContainer.tsx", "../app/lib/restaurant.server.ts", "../app/routes/__app/restaurants.$slug.tsx", "../app/routes/__app/order-history.tsx", "../app/lib/order.server.ts", "../app/routes/__app/items.$slug.tsx", "../app/routes/__app/restaurants.tsx", "../app/routes/__app/index.tsx", "../app/routes/__app/items.tsx", "../app/routes/__app/cart.tsx", "../app/routes/admin.tsx", "../app/routes/admin/index.tsx", "../app/routes/staff.tsx", "../app/routes/staff/employees.tsx", "../app/routes/staff/orders.tsx", "../app/routes/staff/index.tsx", "../app/routes/staff/items.tsx", "server-assets-manifest:@remix-run/dev/assets-manifest", "server-entry-module:@remix-run/dev/server-build"],
  "sourcesContent": ["export * from \"@remix-run/dev/server-build\";", "import { renderToString } from 'react-dom/server'\nimport type { EntryContext, HandleDataRequestFunction } from '@remix-run/node'\nimport { RemixServer } from '@remix-run/react'\nimport { createStylesServer, injectStyles } from '@mantine/remix'\n\nexport let handleDataRequest: HandleDataRequestFunction = async (\n  response: Response,\n  { request }\n) => {\n  let isGet = request.method.toLowerCase() === 'get'\n  let purpose =\n    request.headers.get('Purpose') ||\n    request.headers.get('X-Purpose') ||\n    request.headers.get('Sec-Purpose') ||\n    request.headers.get('Sec-Fetch-Purpose') ||\n    request.headers.get('Moz-Purpose')\n  let isPrefetch = purpose === 'prefetch'\n\n  // If it's a GET request and it's a prefetch request and it doesn't have a Cache-Control header\n  if (isGet && isPrefetch && !response.headers.has('Cache-Control')) {\n    // we will cache for 5 seconds only on the browser\n    response.headers.set('Cache-Control', 'private, max-age=5')\n  }\n\n  return response\n}\n\nconst server = createStylesServer()\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  let markup = renderToString(\n    <RemixServer context={remixContext} url={request.url} />\n  )\n  responseHeaders.set('Content-Type', 'text/html')\n\n  return new Response(`<!DOCTYPE html>${injectStyles(markup, server)}`, {\n    status: responseStatusCode,\n    headers: responseHeaders,\n  })\n}\n", "import {createEmotionCache, MantineProvider} from '@mantine/core'\nimport {ModalsProvider} from '@mantine/modals'\nimport {NotificationsProvider} from '@mantine/notifications'\nimport {StylesPlaceholder} from '@mantine/remix'\nimport type {\n\tLinksFunction,\n\tLoaderArgs,\n\tMetaFunction,\n\tSerializeFrom,\n} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {\n\tLinks,\n\tLiveReload,\n\tMeta,\n\tOutlet,\n\tScripts,\n\tScrollRestoration,\n\tuseCatch,\n} from '@remix-run/react'\nimport FourOhFour from './components/404'\nimport {CartProvider} from './context/CartContext'\nimport {getUser} from './session.server'\nimport styles from './styles/app.css'\nimport appConfig from 'appConfig'\n\nconst appendCache = createEmotionCache({key: 'mantine', prepend: false})\n\nexport const links: LinksFunction = () => {\n\treturn [{rel: 'stylesheet', href: styles}]\n}\n\nexport type RootLoaderData = SerializeFrom<typeof loader>\nexport const loader = async ({request}: LoaderArgs) => {\n\tconst user = await getUser(request)\n\treturn json({user})\n}\n\nexport const meta: MetaFunction = () => ({\n\tcharset: 'utf-8',\n\ttitle: appConfig.name,\n\tviewport: 'width=device-width,initial-scale=1',\n})\n\nexport function Document({\n\ttitle,\n\tchildren,\n}: {\n\ttitle?: string\n\tchildren: React.ReactNode\n}) {\n\treturn (\n\t\t<MantineProvider\n\t\t\twithNormalizeCSS\n\t\t\temotionCache={appendCache}\n\t\t\ttheme={{\n\t\t\t\tprimaryColor: 'indigo',\n\t\t\t}}\n\t\t>\n\t\t\t<html lang=\"en\" className=\"h-full\">\n\t\t\t\t<head>\n\t\t\t\t\t{title ? <title>{title}</title> : null}\n\t\t\t\t\t<Meta />\n\t\t\t\t\t<Links />\n\t\t\t\t\t<StylesPlaceholder />\n\t\t\t\t</head>\n\t\t\t\t<body className=\"h-full\">\n\t\t\t\t\t{children}\n\t\t\t\t\t<ScrollRestoration />\n\t\t\t\t\t<Scripts />\n\t\t\t\t\t<LiveReload />\n\t\t\t\t</body>\n\t\t\t</html>\n\t\t</MantineProvider>\n\t)\n}\n\nexport default function App() {\n\treturn (\n\t\t<Document>\n\t\t\t<ModalsProvider>\n\t\t\t\t<NotificationsProvider autoClose={2000} limit={3}>\n\t\t\t\t\t<CartProvider>\n\t\t\t\t\t\t<Outlet />\n\t\t\t\t\t</CartProvider>\n\t\t\t\t</NotificationsProvider>\n\t\t\t</ModalsProvider>\n\t\t</Document>\n\t)\n}\n\nexport function CatchBoundary() {\n\tconst caught = useCatch()\n\n\tswitch (caught.status) {\n\t\tcase 404:\n\t\t\treturn (\n\t\t\t\t<Document title=\"Oh no...\">\n\t\t\t\t\t<FourOhFour />\n\t\t\t\t</Document>\n\t\t\t)\n\n\t\tdefault:\n\t\t\tthrow new Error(`Unhandled error: ${caught.status}`)\n\t}\n}\n", "import { Link } from '@remix-run/react'\n\nexport default function FourOhFour() {\n  return (\n    <div className='page_404_body'>\n      <div className='page_404_div'>\n        <aside>\n          <img\n            src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/4424790/Mirror.png'\n            alt='404'\n          />\n        </aside>\n        <main>\n          <h1>Sorry!</h1>\n          <p>\n            Either you aren't cool enough to visit this page or it doesn't exist{' '}\n            <em>. . . like your social life.</em>\n          </p>\n          <Link to='/' prefetch='intent'>\n            You can go now!\n          </Link>\n        </main>\n      </div>\n    </div>\n  )\n}\n", "import {\n\tCheckCircleIcon,\n\tInformationCircleIcon,\n\tMinusCircleIcon,\n} from '@heroicons/react/24/solid'\nimport {Button} from '@mantine/core'\nimport {\n\tcleanNotifications,\n\thideNotification,\n\tshowNotification,\n} from '@mantine/notifications'\nimport type {Item} from '@prisma/client'\nimport {Link} from '@remix-run/react'\nimport * as React from 'react'\nimport {useLocalStorageState} from '~/utils/hooks'\nimport type {DateToString} from '~/utils/types'\n\nconst LocalStorageKey = 'food-truck-cart'\n\nexport type CartItem = DateToString<Item>\n\ninterface ICartContext {\n\titemsInCart: Array<CartItem>\n\taddItemToCart: (item: CartItem) => void\n\tremoveItemFromCart: (itemId: CartItem['id']) => void\n\tclearCart: () => void\n\ttotalPrice: number\n}\n\nconst CartContext = React.createContext<ICartContext | undefined>(undefined)\n\nexport function CartProvider({children}: {children: React.ReactNode}) {\n\tconst [items, setItems] = useLocalStorageState<CartItem[]>({\n\t\tkey: LocalStorageKey,\n\t\tdefaultValue: [],\n\t})\n\n\tconst totalPrice = items.reduce(\n\t\t(acc, item) => acc + item.price * item.quantity,\n\t\t0\n\t)\n\n\tconst clearCart = React.useCallback(() => {\n\t\tcleanNotifications()\n\t\tsetItems([])\n\t\tshowNotification({\n\t\t\ttitle: 'Successfully cleared',\n\t\t\tmessage: 'All items in the cart are cleared',\n\t\t\ticon: <CheckCircleIcon className=\"h-7 w-7\" />,\n\t\t\tcolor: 'green',\n\t\t})\n\t}, [setItems])\n\n\tconst addItemToCart = React.useCallback(\n\t\t(item: CartItem) => {\n\t\t\tconst isOrderFromDifferentRestaurant = items.some(\n\t\t\t\tcartItem => cartItem.restaurantId !== item.restaurantId\n\t\t\t)\n\t\t\tconst isAlreadyInCart = items.some(i => i.id === item.id)\n\n\t\t\tcleanNotifications()\n\n\t\t\tif (isOrderFromDifferentRestaurant) {\n\t\t\t\tshowNotification({\n\t\t\t\t\tid: 'different-restaurant',\n\t\t\t\t\ttitle: 'Order from different restaurant',\n\t\t\t\t\tmessage: (\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<span>You can only order from one restaurant at a time</span>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\tclearCart()\n\t\t\t\t\t\t\t\t\t\thideNotification('different-restaurant')\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tClear previous order\n\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\tcolor=\"blue\"\n\t\t\t\t\t\t\t\t\tto=\"/cart\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={() => hideNotification('different-restaurant')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tView cart\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t),\n\t\t\t\t\tcolor: 'blue',\n\t\t\t\t\ticon: <InformationCircleIcon className=\"h-9 w-9\" />,\n\t\t\t\t\tautoClose: false,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!isAlreadyInCart) {\n\t\t\t\tsetItems(prev => [...prev, item])\n\t\t\t\tshowNotification({\n\t\t\t\t\ttitle: 'Successfully added',\n\t\t\t\t\tmessage: `Added ${item.name} to cart`,\n\t\t\t\t\tcolor: 'green',\n\t\t\t\t\ticon: <CheckCircleIcon className=\"h-9 w-9\" />,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tsetItems(prevItems => {\n\t\t\t\tconst newItems = [...prevItems]\n\n\t\t\t\tconst index = newItems.findIndex(i => i.id === item.id)\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tnewItems[index].quantity = newItems[index].quantity + item.quantity\n\t\t\t\t}\n\n\t\t\t\treturn newItems\n\t\t\t})\n\n\t\t\tshowNotification({\n\t\t\t\ttitle: 'Item already present in cart',\n\t\t\t\tmessage: `Quantity increased by ${item.quantity}`,\n\t\t\t\ticon: <CheckCircleIcon className=\"h-7 w-7\" />,\n\t\t\t\tcolor: 'green',\n\t\t\t})\n\t\t},\n\t\t[clearCart, items, setItems]\n\t)\n\n\tconst removeItemFromCart = (itemId: CartItem['id']) => {\n\t\tsetItems(prev => prev.filter(item => item.id !== itemId))\n\t\tshowNotification({\n\t\t\ttitle: 'Successfully removed',\n\t\t\tmessage: 'Item removed from cart',\n\t\t\ticon: <MinusCircleIcon className=\"h-7 w-7\" />,\n\t\t\tcolor: 'red',\n\t\t})\n\t}\n\n\treturn (\n\t\t<CartContext.Provider\n\t\t\tvalue={{\n\t\t\t\titemsInCart: items,\n\t\t\t\ttotalPrice,\n\t\t\t\taddItemToCart,\n\t\t\t\tremoveItemFromCart,\n\t\t\t\tclearCart,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</CartContext.Provider>\n\t)\n}\n\nexport function useCart() {\n\tconst context = React.useContext(CartContext)\n\tif (!context) {\n\t\tthrow new Error('`useCart()` must be used within a <CartProvider />')\n\t}\n\n\treturn context\n}\n", "import type {FoodTruck, Item} from '@prisma/client'\nimport {useMatches} from '@remix-run/react'\nimport * as React from 'react'\nimport type {RootLoaderData} from '~/root'\nimport type {AppLoaderData} from '~/routes/__app'\n/**\n * This base hook is used in other hooks to quickly search for specific data\n * across all loader data using useMatches.\n * @param {string} routeId The route id\n * @returns {JSON|undefined} The router data or undefined if not found\n */\nexport function useMatchesData(\n\trouteId: string\n): Record<string, unknown> | undefined {\n\tconst matchingRoutes = useMatches()\n\n\tconst route = React.useMemo(\n\t\t() => matchingRoutes.find(route => route.id === routeId),\n\t\t[matchingRoutes, routeId]\n\t)\n\treturn route?.data\n}\n\nexport function useOptionalUser() {\n\treturn useMatchesData('root') as RootLoaderData\n}\n\nexport function useUser() {\n\tconst {user} = useOptionalUser()\n\tif (!user) {\n\t\tthrow new Error('No user found')\n\t}\n\n\treturn {user}\n}\n\nexport function useAppData() {\n\treturn useMatchesData('routes/__app') as AppLoaderData\n}\n\nexport function useFoodTruck(slug: FoodTruck['slug']) {\n\tconst {foodTrucks} = useAppData()\n\tconst foodTruck = foodTrucks.find(foodTruck => foodTruck.slug === slug)\n\n\treturn foodTruck\n}\n\nexport function useItem(slug: Item['slug']) {\n\tconst {items} = useAppData()\n\tconst item = items.find(item => item.slug === slug)\n\n\treturn item\n}\n\ntype ReturnType<T> = [T, React.Dispatch<React.SetStateAction<T>>]\nexport function useLocalStorageState<T>({\n\tkey,\n\tdefaultValue,\n}: {\n\tkey: string\n\tdefaultValue: T\n}): ReturnType<T> {\n\tconst [value, setValue] = React.useState<T>(defaultValue)\n\n\tReact.useEffect(() => {\n\t\tconst localStorageValue = window.localStorage.getItem(key)\n\n\t\tif (!localStorageValue) {\n\t\t\tsetValue(defaultValue)\n\t\t\treturn\n\t\t}\n\n\t\tsetValue(JSON.parse(localStorageValue))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tReact.useEffect(() => {\n\t\twindow.localStorage.setItem(key, JSON.stringify(value))\n\t}, [key, value])\n\n\treturn [value, setValue]\n}\n", "import type {User} from '@prisma/client'\nimport {Role} from '@prisma/client'\nimport {createCookieSessionStorage, redirect} from '@remix-run/node'\nimport invariant from 'tiny-invariant'\nimport {getUserById} from '~/lib/user.server'\n\ninvariant(process.env.SESSION_SECRET, 'SESSION_SECRET must be set')\n\nexport const sessionStorage = createCookieSessionStorage({\n\tcookie: {\n\t\tname: '__session',\n\t\thttpOnly: true,\n\t\tmaxAge: 0,\n\t\tpath: '/',\n\t\tsameSite: 'lax',\n\t\tsecrets: [process.env.SESSION_SECRET],\n\t\tsecure: process.env.NODE_ENV === 'production',\n\t},\n})\n\nconst USER_SESSION_KEY = 'userId'\nconst USER_ROLE_KEY = 'userRole'\nconst fourteenDaysInSeconds = 60 * 60 * 24 * 14\nconst thirtyDaysInSeconds = 60 * 60 * 24 * 30\n\nexport async function getSession(request: Request) {\n\tconst cookie = request.headers.get('Cookie')\n\treturn sessionStorage.getSession(cookie)\n}\n\n/**\n * Returns the userId from the session.\n */\nexport async function getUserId(\n\trequest: Request\n): Promise<User['id'] | undefined> {\n\tconst session = await getSession(request)\n\tconst userId = session.get(USER_SESSION_KEY)\n\treturn userId\n}\n\nexport async function getUser(request: Request) {\n\tconst userId = await getUserId(request)\n\tif (userId === undefined) return null\n\n\tconst user = await getUserById(userId)\n\tif (user) return user\n\n\tthrow await logout(request)\n}\n\nexport async function requireUserId(\n\trequest: Request,\n\tredirectTo: string = new URL(request.url).pathname\n) {\n\tconst userId = await getUserId(request)\n\tif (!userId) {\n\t\tconst searchParams = new URLSearchParams([['redirectTo', redirectTo]])\n\t\tthrow redirect(`/login?${searchParams}`)\n\t}\n\n\treturn userId\n}\n\nexport async function requireUser(\n\trequest: Request,\n\tredirectTo: string = new URL(request.url).pathname\n) {\n\tconst userId = await requireUserId(request, redirectTo)\n\tconst user = await getUserById(userId)\n\tif (user) return user\n\n\tthrow await logout(request)\n}\n\nexport async function createUserSession({\n\trequest,\n\tuserId,\n\trole,\n\tremember = false,\n\tredirectTo,\n}: {\n\trequest: Request\n\tuserId: User['id']\n\trole: User['role']\n\tremember?: boolean\n\tredirectTo: string\n}) {\n\tconst session = await getSession(request)\n\tsession.set(USER_SESSION_KEY, userId)\n\tsession.set(USER_ROLE_KEY, role)\n\n\treturn redirect(redirectTo, {\n\t\theaders: {\n\t\t\t'Set-Cookie': await sessionStorage.commitSession(session, {\n\t\t\t\tmaxAge: remember ? fourteenDaysInSeconds : thirtyDaysInSeconds,\n\t\t\t}),\n\t\t},\n\t})\n}\n\nexport async function logout(request: Request) {\n\tconst session = await getSession(request)\n\n\t// For some reason destroySession isn't removing session keys\n\t// So, unsetting the keys manually\n\tsession.unset(USER_SESSION_KEY)\n\tsession.unset(USER_ROLE_KEY)\n\n\treturn redirect('/login', {\n\t\theaders: {\n\t\t\t'Set-Cookie': await sessionStorage.destroySession(session),\n\t\t},\n\t})\n}\n\nexport async function isCustomer(request: Request) {\n\tconst session = await getSession(request)\n\treturn session.get(USER_ROLE_KEY) === Role.CUSTOMER\n}\n\nexport async function isAdmin(request: Request) {\n\tconst session = await getSession(request)\n\treturn session.get(USER_ROLE_KEY) === Role.ADMIN\n}\n\nexport async function isStaff(request: Request) {\n\tconst session = await getSession(request)\n\treturn session.get(USER_ROLE_KEY) === Role.STAFF\n}\n", "import type {User} from '@prisma/client'\nimport {Role} from '@prisma/client'\nimport * as bcrypt from 'bcryptjs'\nimport {db} from '~/db.server'\nimport {createPasswordHash} from '~/utils/misc'\n\nexport async function getUserById(id: User['id']) {\n\treturn db.user.findUnique({\n\t\twhere: {id},\n\t\tselect: {\n\t\t\tid: true,\n\t\t\tfirstName: true,\n\t\t\tlastName: true,\n\t\t\temail: true,\n\t\t\tfoodTruckId: true,\n\t\t\thasResetPassword: true,\n\t\t},\n\t})\n}\n\nexport async function getUserByEmail(email: User['email']) {\n\treturn db.user.findUnique({\n\t\twhere: {email},\n\t\tselect: {\n\t\t\tfirstName: true,\n\t\t\tlastName: true,\n\t\t\temail: true,\n\t\t},\n\t})\n}\n\nexport async function createUser({\n\temail,\n\tpassword,\n\tfirstName,\n\tlastName,\n\trole = Role.CUSTOMER,\n}: {\n\temail: User['email']\n\tpassword: string\n\tfirstName: User['firstName']\n\tlastName: User['lastName']\n\trole?: User['role']\n}) {\n\treturn db.user.create({\n\t\tdata: {\n\t\t\tfirstName,\n\t\t\tlastName,\n\t\t\temail,\n\t\t\tpasswordHash: await createPasswordHash(password),\n\t\t\trole,\n\t\t},\n\t})\n}\n\nexport async function verifyLogin(email: User['email'], password: string) {\n\tconst userWithPassword = await db.user.findUnique({\n\t\twhere: {email},\n\t})\n\n\tif (!userWithPassword || !userWithPassword.passwordHash) {\n\t\treturn null\n\t}\n\n\tconst isValid = await bcrypt.compare(password, userWithPassword.passwordHash)\n\n\tif (!isValid) {\n\t\treturn null\n\t}\n\n\tconst {passwordHash: _password, ...userWithoutPassword} = userWithPassword\n\n\treturn userWithoutPassword\n}\n", "import { PrismaClient } from '@prisma/client'\n\nlet prisma: PrismaClient\n\ndeclare global {\n  var __db__: PrismaClient\n}\n\n// this is needed because in development we don't want to restart\n// the server with every change, but we want to make sure we don't\n// create a new connection to the DB with every change either.\n// in production we'll have a single connection to the DB.\nif (process.env.NODE_ENV === 'production') {\n  prisma = new PrismaClient()\n} else {\n  if (!global.__db__) {\n    global.__db__ = new PrismaClient()\n  }\n  prisma = global.__db__\n  prisma.$connect()\n}\n\nexport { prisma as db }\n", "import * as bcrypt from 'bcryptjs'\n\nexport function round(number: number, precision: number) {\n\tconst d = Math.pow(10, precision)\n\treturn Math.round((number + Number.EPSILON) * d) / d\n}\n\nexport function titleCase(string: string) {\n\tstring = string.toLowerCase()\n\tconst wordsArray = string.split(' ')\n\n\tfor (var i = 0; i < wordsArray.length; i++) {\n\t\twordsArray[i] =\n\t\t\twordsArray[i].charAt(0).toUpperCase() + wordsArray[i].slice(1)\n\t}\n\n\treturn wordsArray.join(' ')\n}\n\nexport function createPasswordHash(password: string) {\n\treturn bcrypt.hash(password, 10)\n}\n\n// format time using intl.DateTimeFormat\nexport function formatTime(date: string | Date) {\n\tconst _time = new Date(date)\n\treturn new Intl.DateTimeFormat('en-US', {\n\t\thour: 'numeric',\n\t\tminute: 'numeric',\n\t\thour12: true,\n\t}).format(_time)\n}\n\nexport const daysOfWeek = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Friday',\n\t'Saturday',\n]\n", "const appConfig = {\n\tname: 'Online Food Truck System',\n\tcardsLimit: 4,\n\tlogo: 'https://img.freepik.com/premium-vector/vintage-food-truck-logo-design_139869-127.jpg?w=1480',\n}\n\nexport default appConfig\n", "import type {FoodTruckSchedule} from '@prisma/client'\nimport type {ActionArgs} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {db} from '~/db.server'\nimport {badRequest} from '~/utils/misc.server'\n\nexport const action = async ({request}: ActionArgs) => {\n\tconst formData = await request.formData()\n\n\tconst foodTruckId = formData.get('foodTruckId')?.toString()\n\tconst _schedules = formData.get('schedules')?.toString()\n\n\tif (!foodTruckId || !_schedules) {\n\t\treturn badRequest({success: false, message: 'Invalid request'})\n\t}\n\n\tconst schedules = JSON.parse(_schedules) as FoodTruckSchedule[]\n\t// remove\n\tawait db.foodTruck.update({\n\t\twhere: {id: foodTruckId},\n\t\tdata: {\n\t\t\tschedule: {\n\t\t\t\tdeleteMany: {},\n\t\t\t\tcreateMany: {\n\t\t\t\t\tdata: schedules.map(schedule => ({\n\t\t\t\t\t\tday: schedule.day,\n\t\t\t\t\t\tstartTime: schedule.startTime,\n\t\t\t\t\t\tendTime: schedule.endTime,\n\t\t\t\t\t})),\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n\n\treturn json({success: true})\n}\n", "import {json} from '@remix-run/node'\nimport {getUserId} from '~/session.server'\nimport {getUserById} from '~/lib/user.server'\n\nconst DEFAULT_REDIRECT = '/'\n\nexport const badRequest = <T = any>(data: T) => json<T>(data, {status: 400})\nexport const unauthorized = <T = any>(data: T) => json<T>(data, {status: 401})\nexport const forbidden = <T = any>(data: T) => json<T>(data, {status: 403})\nexport const notFound = <T = any>(data: T) => json<T>(data, {status: 404})\n\nexport function validateEmail(email: unknown): email is string {\n\treturn typeof email === 'string' && email.length > 3 && email.includes('@')\n}\n\nexport function validateName(name: unknown): name is string {\n\treturn typeof name === 'string' && name.length > 1\n}\n\n/**\n * This should be used any time the redirect path is user-provided\n * (Like the query string on our login/signup pages). This avoids\n * open-redirect vulnerabilities.\n * @param {string} to The redirect destination\n * @param {string} defaultRedirect The redirect to use if the to is unsafe.\n */\nexport function safeRedirect(\n\tto: FormDataEntryValue | string | null | undefined,\n\tdefaultRedirect: string = DEFAULT_REDIRECT\n) {\n\tif (!to || typeof to !== 'string') {\n\t\treturn defaultRedirect\n\t}\n\n\tif (!to.startsWith('/') || to.startsWith('//')) {\n\t\treturn defaultRedirect\n\t}\n\n\treturn to\n}\n\nexport async function getOptionalUser(\n\trequest: Request\n): Promise<Awaited<ReturnType<typeof getUserById>> | null> {\n\tconst userId = await getUserId(request)\n\tif (userId === undefined) return null\n\n\tconst user = await getUserById(userId)\n\tif (user) return user\n\n\treturn null\n}\n", "import type {ActionArgs} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {db} from '~/db.server'\nimport {createPasswordHash} from '~/utils/misc'\n\nexport const action = async ({request}: ActionArgs) => {\n\tconst formData = await request.formData()\n\n\tconst userId = formData.get('userId')?.toString()\n\tconst password = formData.get('password')?.toString()\n\n\tif (!userId || !password) {\n\t\treturn json(\n\t\t\t{success: false, error: 'Missing userId or password'},\n\t\t\t{status: 400}\n\t\t)\n\t}\n\n\tawait db.user.update({\n\t\twhere: {id: userId},\n\t\tdata: {\n\t\t\tpasswordHash: await createPasswordHash(password),\n\t\t\thasResetPassword: true,\n\t\t},\n\t})\n\n\treturn json({success: true})\n}\n", "import type {ActionFunction, LoaderFunction} from '@remix-run/node'\nimport {redirect} from '@remix-run/node'\nimport {logout} from '~/session.server'\n\nexport const action: ActionFunction = async ({request}) => {\n\treturn logout(request)\n}\n\nexport const loader: LoaderFunction = async () => {\n\treturn redirect('/')\n}\n", "import type {LoaderFunction} from '@remix-run/node'\nimport {redirect} from '@remix-run/node'\nimport {Outlet} from '@remix-run/react'\nimport {getUser} from '~/session.server'\n\nexport const loader: LoaderFunction = async ({request}) => {\n\tconst user = await getUser(request)\n\tif (user) return redirect('/')\n\n\treturn null\n}\n\nexport default function AuthLayout() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"grid min-h-full place-items-center bg-gray-200\">\n\t\t\t\t<div className=\"flex flex-col justify-center rounded-lg border bg-white py-12 px-4 sm:px-6 lg:px-12\">\n\t\t\t\t\t<div className=\"mx-auto w-full max-w-sm lg:w-96\">\n\t\t\t\t\t\t<Outlet />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n", "import {Anchor, Button, PasswordInput, TextInput} from '@mantine/core'\nimport {Role} from '@prisma/client'\nimport type {ActionFunction} from '@remix-run/node'\nimport {Form, Link, useActionData, useTransition} from '@remix-run/react'\nimport {createUser, getUserByEmail} from '~/lib/user.server'\nimport {createUserSession} from '~/session.server'\nimport {badRequest, validateEmail, validateName} from '~/utils/misc.server'\n\ninterface ActionData {\n\tfieldErrors?: {\n\t\temail?: string\n\t\tpassword?: string\n\t\tfirstName?: string\n\t\tlastName?: string\n\t}\n}\n\nexport const action: ActionFunction = async ({request}) => {\n\tconst formData = await request.formData()\n\n\tconst email = formData.get('email')\n\tconst password = formData.get('password')\n\tconst confirmPassword = formData.get('confirmPassword')\n\tconst firstName = formData.get('firstName')\n\tconst lastName = formData.get('lastName')\n\n\tif (!validateName(firstName)) {\n\t\treturn badRequest<ActionData>({\n\t\t\tfieldErrors: {\n\t\t\t\tfirstName: 'First name is required',\n\t\t\t},\n\t\t})\n\t}\n\n\tif (!validateName(lastName)) {\n\t\treturn badRequest<ActionData>({\n\t\t\tfieldErrors: {\n\t\t\t\tlastName: 'Last name is required',\n\t\t\t},\n\t\t})\n\t}\n\n\tif (!validateEmail(email)) {\n\t\treturn badRequest<ActionData>({\n\t\t\tfieldErrors: {email: 'Email is invalid'},\n\t\t})\n\t}\n\n\tif (typeof password !== 'string' || typeof confirmPassword !== 'string') {\n\t\treturn badRequest<ActionData>({\n\t\t\tfieldErrors: {password: 'Password is required'},\n\t\t})\n\t}\n\n\tif (password.length < 8 || confirmPassword.length < 8) {\n\t\treturn badRequest<ActionData>({\n\t\t\tfieldErrors: {password: 'Password is too short'},\n\t\t})\n\t}\n\n\tif (password !== confirmPassword) {\n\t\treturn badRequest<ActionData>({\n\t\t\tfieldErrors: {password: 'Passwords do not match'},\n\t\t})\n\t}\n\n\tconst existingUser = await getUserByEmail(email)\n\tif (existingUser) {\n\t\treturn badRequest<ActionData>({\n\t\t\tfieldErrors: {email: 'A user already exists with this email'},\n\t\t})\n\t}\n\n\tconst user = await createUser({email, password, firstName, lastName})\n\treturn createUserSession({\n\t\trequest,\n\t\tuserId: user.id,\n\t\trole: Role.CUSTOMER,\n\t\tredirectTo: '/',\n\t})\n}\nexport default function Register() {\n\tconst transition = useTransition()\n\tconst actionData = useActionData<ActionData>()\n\tconst isSubmitting = transition.state !== 'idle'\n\n\treturn (\n\t\t<>\n\t\t\t<div>\n\t\t\t\t<h2 className=\"mt-6 text-3xl font-extrabold text-gray-900\">Register</h2>\n\t\t\t\t<p className=\"mt-2 text-sm text-gray-600\">\n\t\t\t\t\tHave an account already?{' '}\n\t\t\t\t\t<Anchor component={Link} to=\"/login\" size=\"sm\" prefetch=\"intent\">\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Anchor>\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<Form replace method=\"post\" className=\"mt-8\">\n\t\t\t\t<fieldset disabled={isSubmitting} className=\"flex flex-col gap-4\">\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\tautoComplete=\"given-name\"\n\t\t\t\t\t\tlabel=\"Given name\"\n\t\t\t\t\t\terror={actionData?.fieldErrors?.firstName}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\tlabel=\"Family name\"\n\t\t\t\t\t\terror={actionData?.fieldErrors?.lastName}\n\t\t\t\t\t\tautoComplete=\"family-name\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\terror={actionData?.fieldErrors?.email}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\terror={actionData?.fieldErrors?.password}\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\tname=\"confirmPassword\"\n\t\t\t\t\t\tlabel=\"Confirm password\"\n\t\t\t\t\t\terror={actionData?.fieldErrors?.password}\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\tmt=\"1rem\"\n\t\t\t\t\t>\n\t\t\t\t\t\tRegister\n\t\t\t\t\t</Button>\n\t\t\t\t</fieldset>\n\t\t\t</Form>\n\t\t</>\n\t)\n}\n", "import {\n\tAnchor,\n\tButton,\n\tGroup,\n\tPasswordInput,\n\tSwitch,\n\tTextInput,\n} from '@mantine/core'\nimport type {ActionFunction} from '@remix-run/node'\nimport {Link, useFetcher, useSearchParams} from '@remix-run/react'\nimport {createUserSession} from '~/session.server'\nimport {verifyLogin} from '~/lib/user.server'\nimport {LoginSchema} from '~/lib/zod.schema'\nimport {badRequest, safeRedirect} from '~/utils/misc.server'\nimport type {inferErrors} from '~/utils/validation'\nimport {validateAction} from '~/utils/validation'\n\ninterface ActionData {\n\tfieldErrors?: inferErrors<typeof LoginSchema>\n}\n\nexport const action: ActionFunction = async ({request}) => {\n\tconst {fieldErrors, fields} = await validateAction(request, LoginSchema)\n\n\tif (fieldErrors) {\n\t\treturn badRequest<ActionData>({fieldErrors})\n\t}\n\n\tconst {email, password, redirectTo, remember} = fields\n\n\tconst user = await verifyLogin(email, password)\n\tif (!user) {\n\t\treturn badRequest<ActionData>({\n\t\t\tfieldErrors: {\n\t\t\t\tpassword: 'Invalid username or password',\n\t\t\t},\n\t\t})\n\t}\n\n\treturn createUserSession({\n\t\trequest,\n\t\tuserId: user.id,\n\t\trole: user.role,\n\t\tremember: remember === 'on' ? true : false,\n\t\tredirectTo: safeRedirect(redirectTo),\n\t})\n}\n\nexport default function Login() {\n\tconst [searchParams] = useSearchParams()\n\n\tconst fetcher = useFetcher<ActionData>()\n\tconst actionData = fetcher.data\n\n\tconst redirectTo = searchParams.get('redirectTo') || '/'\n\tconst isSubmitting = fetcher.state !== 'idle'\n\n\treturn (\n\t\t<>\n\t\t\t<div>\n\t\t\t\t<h2 className=\"mt-6 text-3xl font-extrabold text-gray-900\">Sign in</h2>\n\t\t\t\t<p className=\"mt-2 text-sm text-gray-600\">\n\t\t\t\t\tDo not have an account yet?{' '}\n\t\t\t\t\t<Anchor component={Link} to=\"/register\" size=\"sm\" prefetch=\"intent\">\n\t\t\t\t\t\tCreate account\n\t\t\t\t\t</Anchor>\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<fetcher.Form method=\"post\" replace className=\"mt-8\">\n\t\t\t\t<input type=\"hidden\" name=\"redirectTo\" value={redirectTo} />\n\n\t\t\t\t<fieldset disabled={isSubmitting} className=\"flex flex-col gap-4\">\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\tlabel=\"Email address\"\n\t\t\t\t\t\terror={actionData?.fieldErrors?.email}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\terror={actionData?.fieldErrors?.password}\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Group position=\"apart\" mt=\"1rem\">\n\t\t\t\t\t\t<Switch id=\"remember-me\" name=\"rememberMe\" label=\"Remember me\" />\n\n\t\t\t\t\t\t{/* <Anchor\n              component={Link}\n              to='/forgot-password'\n              size='sm'\n              prefetch='intent'\n            >\n              Forgot password?\n            </Anchor> */}\n\t\t\t\t\t</Group>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\tmt=\"1rem\"\n\t\t\t\t\t>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Button>\n\t\t\t\t</fieldset>\n\t\t\t</fetcher.Form>\n\t\t</>\n\t)\n}\n", "import { z } from 'zod'\n\nconst name = z.string().min(1, 'Name is required')\nconst email = z.string().email('Invalid email')\nconst password = z.string().min(8, 'Password must be at least 8 characters')\n\nexport const LoginSchema = z.object({\n  email,\n  password,\n  remember: z.enum(['on']).optional(),\n  redirectTo: z.string().default('/'),\n})\n", "import type { z } from 'zod'\n\nexport type inferErrors<T extends z.ZodTypeAny> = {\n  [P in keyof z.infer<T>]?: string\n}\n\nexport async function validateAction<TSchema extends z.ZodTypeAny>(\n  request: Request,\n  schema: TSchema\n) {\n  const formData = await request.formData()\n  const fields = Object.fromEntries(formData)\n  const result = schema.safeParse(fields) as z.SafeParseReturnType<\n    inferErrors<TSchema>,\n    z.infer<TSchema>\n  >\n\n  if (!result.success) {\n    const fieldErrors = result.error.issues.reduce(\n      (acc: inferErrors<TSchema>, issue) => {\n        const key = (issue.path[0] as keyof TSchema) ?? issue.code\n        acc[key] = issue.message\n        return acc\n      },\n      {}\n    )\n\n    return {\n      fields: null,\n      fieldErrors,\n    }\n  }\n\n  return {\n    fields: result.data,\n    fieldErrors: null,\n  }\n}\n", "import {Anchor, Button, ScrollArea} from '@mantine/core'\nimport type {LoaderArgs, SerializeFrom} from '@remix-run/node'\nimport {json, redirect} from '@remix-run/node'\nimport {Form, Link, Outlet, useLocation} from '@remix-run/react'\nimport appConfig from 'appConfig'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {getAllRestaurants} from '~/lib/restaurant.server'\nimport {isAdmin, isStaff, requireUserId} from '~/session.server'\nimport {useOptionalUser} from '~/utils/hooks'\n\nexport type AppLoaderData = SerializeFrom<typeof loader>\nexport const loader = async ({request}: LoaderArgs) => {\n\tawait requireUserId(request)\n\n\tif (await isAdmin(request)) {\n\t\treturn redirect('/admin')\n\t} else if (await isStaff(request)) {\n\t\treturn redirect('/staff')\n\t}\n\n\tconst foodTrucks = await getAllRestaurants()\n\tconst items = foodTrucks.reduce((acc, restaurant) => {\n\t\trestaurant.items.forEach(item => acc.push(item))\n\t\treturn acc\n\t}, [] as typeof foodTrucks[number]['items'])\n\n\treturn json({foodTrucks: foodTrucks, items})\n}\n\nexport default function AppLayout() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex h-full flex-col\">\n\t\t\t\t<HeaderComponent />\n\t\t\t\t<ScrollArea classNames={{root: 'flex-1 bg-gray-100'}}>\n\t\t\t\t\t<Content />\n\t\t\t\t</ScrollArea>\n\n\t\t\t\t<FooterComponent />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nfunction HeaderComponent() {\n\tconst location = useLocation()\n\tconst {user} = useOptionalUser()\n\n\treturn (\n\t\t<>\n\t\t\t<Form replace action=\"/api/auth/logout\" method=\"post\" id=\"logout-form\" />\n\t\t\t<header className=\"max-h-16 \">\n\t\t\t\t<TailwindContainer>\n\t\t\t\t\t<div className=\"flex h-full w-full items-center justify-between\">\n\t\t\t\t\t\t<div className=\"flex flex-shrink-0 items-center gap-4\">\n\t\t\t\t\t\t\t<Anchor component={Link} to=\"/\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"h-16 bg-black object-cover object-center\"\n\t\t\t\t\t\t\t\t\tsrc={appConfig.logo}\n\t\t\t\t\t\t\t\t\talt=\"Logo\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t<Button px={8} component={Link} to=\"/cart\" title=\"Cart\" compact>\n\t\t\t\t\t\t\t\tCart\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t{user ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Button component={Link} to=\"/order-history\" compact>\n\t\t\t\t\t\t\t\t\t\tYour orders\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t<Button type=\"submit\" form=\"logout-form\" compact>\n\t\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcompact\n\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\tto={`/login?redirectTo=${encodeURIComponent(\n\t\t\t\t\t\t\t\t\t\t\tlocation.pathname\n\t\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</TailwindContainer>\n\t\t\t</header>\n\t\t</>\n\t)\n}\n\nfunction Content() {\n\treturn (\n\t\t<main>\n\t\t\t<Outlet />\n\t\t</main>\n\t)\n}\n\nfunction FooterComponent() {\n\treturn (\n\t\t<footer>\n\t\t\t<span className=\"text-gray-400\"></span>\n\t\t</footer>\n\t)\n}\n", "import {clsx} from '@mantine/core'\n\nexport function TailwindContainer({\n\tchildren,\n\tclassName,\n}: {\n\tchildren: React.ReactNode\n\tclassName?: string\n}) {\n\treturn (\n\t\t<div className={clsx('mx-auto max-w-2xl lg:max-w-7xl', className)}>\n\t\t\t{children}\n\t\t</div>\n\t)\n}\n", "import {db} from '~/db.server'\n\nexport function getAllRestaurants() {\n\treturn db.foodTruck.findMany({\n\t\torderBy: {\n\t\t\tname: 'asc',\n\t\t},\n\t\tinclude: {\n\t\t\titems: true,\n\t\t\tschedule: true,\n\t\t},\n\t})\n}\n", "import {Anchor, Button, Divider} from '@mantine/core'\nimport type {LoaderArgs} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {Link, useLoaderData} from '@remix-run/react'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {useCart} from '~/context/CartContext'\nimport {db} from '~/db.server'\nimport {useFoodTruck} from '~/utils/hooks'\n\nexport const loader = async ({params}: LoaderArgs) => {\n\tconst {slug} = params\n\n\tif (!slug) {\n\t\tthrow new Response('No slug provided', {status: 404})\n\t}\n\n\tconst feedbacks = await db.order.findMany({\n\t\twhere: {\n\t\t\tfeedback: {\n\t\t\t\tisSet: true,\n\t\t\t},\n\t\t},\n\t\tinclude: {\n\t\t\tuser: true,\n\t\t\titems: {\n\t\t\t\tinclude: {\n\t\t\t\t\titem: {\n\t\t\t\t\t\tinclude: {\n\t\t\t\t\t\t\trestaurant: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n\n\tconst feedbackOfRestaurant = feedbacks.filter(\n\t\tfeedback => feedback.items[0].item.restaurant.slug === slug\n\t)\n\n\treturn json({\n\t\tslug,\n\t\tfeedbackOfRestaurant,\n\t})\n}\nexport default function Restaurant() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t\t<ItemsGrid />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nfunction ItemsGrid() {\n\tconst {slug, feedbackOfRestaurant} = useLoaderData<typeof loader>()\n\tconst restaurant = useFoodTruck(slug)\n\tconst {addItemToCart} = useCart()\n\t// This scenario is unlikely\n\t// as the slug is checked in the loader\n\tif (!restaurant) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<TailwindContainer>\n\t\t\t\t<div className=\"px-4 pb-16 sm:px-6 sm:pb-20 lg:px-8\">\n\t\t\t\t\t<h2 className=\"mb-6 py-6 text-center text-2xl font-extrabold tracking-tight text-gray-900\">\n\t\t\t\t\t\t{restaurant.name}\n\t\t\t\t\t</h2>\n\n\t\t\t\t\t<div className=\"mt-6 grid grid-cols-1 gap-x-4 gap-y-10 sm:grid-cols-2 sm:gap-x-6 md:grid-cols-3 md:gap-y-0 lg:grid-cols-4 lg:gap-x-8\">\n\t\t\t\t\t\t{restaurant?.items.map(item => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\tclassName=\"group relative mx-auto sm:mx-[unset]\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"overflow-hidden rounded-md bg-gray-200 shadow group-hover:opacity-75\">\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tto={`/items/${item.slug}`}\n\t\t\t\t\t\t\t\t\t\tprefetch=\"intent\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"overflow-hidden rounded-lg bg-gray-200 group-hover:opacity-75\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\n\t\t\t\t\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"aspect-square w-full object-cover object-center\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<h3 className=\"mt-4 text-sm text-gray-700\">\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tto={`/items/${item.slug}`}\n\t\t\t\t\t\t\t\t\t\tprefetch=\"intent\"\n\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t${item.price}\n\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tmt=\"md\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\taddItemToCart({\n\t\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\t\tquantity: 1,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdd to cart\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{feedbackOfRestaurant.length > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Divider my={48} />\n\t\t\t\t\t\t<div className=\"px-4 pb-16 sm:px-6 sm:pb-20 lg:px-8\">\n\t\t\t\t\t\t\t<h2 className=\"mb-6 py-6 text-center text-2xl font-extrabold tracking-tight text-gray-900\">\n\t\t\t\t\t\t\t\tFeedbacks\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<div className=\"mt-6 grid grid-cols-1 gap-x-4 gap-y-10 border p-2 sm:grid-cols-1 sm:gap-x-6 md:grid-cols-3 md:gap-y-0 lg:grid-cols-4 lg:gap-x-8\">\n\t\t\t\t\t\t\t\t{feedbackOfRestaurant.map(f => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={f.id}\n\t\t\t\t\t\t\t\t\t\tclassName=\"group relative mx-auto sm:mx-[unset]\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"mt-1 text-lg font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\"{f.feedback}\" -\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"ml-3 text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t{f.user.firstName} {f.user.lastName} ({f.user.email})\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</TailwindContainer>\n\t\t</div>\n\t)\n}\n", "import {ShoppingBagIcon} from '@heroicons/react/24/outline'\nimport {CheckCircleIcon} from '@heroicons/react/24/solid'\nimport {Anchor, Badge, Button, Modal, Textarea} from '@mantine/core'\nimport {useDisclosure} from '@mantine/hooks'\nimport {OrderStatus} from '@prisma/client'\nimport type {ActionArgs, LoaderArgs, SerializeFrom} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {\n\tLink,\n\tuseFetcher,\n\tuseLoaderData,\n\tuseSearchParams,\n} from '@remix-run/react'\nimport * as React from 'react'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {useCart} from '~/context/CartContext'\nimport {db} from '~/db.server'\nimport {cancelOrder, getOrders} from '~/lib/order.server'\nimport {requireUserId} from '~/session.server'\nimport {titleCase} from '~/utils/misc'\nimport {badRequest, unauthorized} from '~/utils/misc.server'\n\nconst dateFormatter = new Intl.DateTimeFormat('en-US')\n\nexport const loader = async ({request}: LoaderArgs) => {\n\tconst userId = await requireUserId(request)\n\tconst orders = await getOrders(userId)\n\treturn json({orders})\n}\n\nexport const action = async ({request}: ActionArgs) => {\n\tconst userId = await requireUserId(request)\n\tconst formData = await request.formData()\n\n\tconst intent = formData.get('intent')?.toString()\n\tif (!userId || !intent) {\n\t\treturn unauthorized({success: false, message: 'Unauthorized'})\n\t}\n\n\tswitch (intent) {\n\t\tcase 'cancel-order': {\n\t\t\tconst orderId = formData.get('orderId')?.toString()\n\t\t\tif (!orderId) {\n\t\t\t\treturn badRequest({success: false, message: 'Invalid order id'})\n\t\t\t}\n\n\t\t\treturn cancelOrder(orderId)\n\t\t\t\t.then(() => json({success: true}))\n\t\t\t\t.catch(e => json({success: false, message: e.message}, {status: 500}))\n\t\t}\n\n\t\tcase 'publish-feedback': {\n\t\t\tconst orderId = formData.get('orderId')?.toString()\n\t\t\tconst feedback = formData.get('feedback')?.toString()\n\t\t\tif (!orderId || !feedback) {\n\t\t\t\treturn badRequest({success: false, message: 'Invalid order id'})\n\t\t\t}\n\n\t\t\tawait db.order.update({\n\t\t\t\twhere: {id: orderId},\n\t\t\t\tdata: {feedback},\n\t\t\t})\n\n\t\t\treturn json({success: true})\n\t\t}\n\n\t\tdefault:\n\t\t\treturn badRequest({success: false, message: 'Invalid intent'})\n\t}\n}\nexport default function OrderHistory() {\n\tconst {orders} = useLoaderData<typeof loader>()\n\n\tconst [searchParams, setSearchParams] = useSearchParams()\n\tconst {clearCart} = useCart()\n\n\tReact.useEffect(() => {\n\t\tconst success = searchParams.get('success')\n\t\tif (success) {\n\t\t\tclearCart()\n\t\t\tsetSearchParams({}, {replace: true})\n\t\t\treturn\n\t\t}\n\t}, [clearCart, searchParams, setSearchParams])\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t\t<div className=\"bg-white\">\n\t\t\t\t\t<TailwindContainer>\n\t\t\t\t\t\t<div className=\"bg-white\">\n\t\t\t\t\t\t\t<div className=\"py-16 sm:py-24\">\n\t\t\t\t\t\t\t\t<div className=\"mx-auto max-w-7xl sm:px-2 lg:px-8\">\n\t\t\t\t\t\t\t\t\t<div className=\"mx-auto max-w-2xl px-4 lg:max-w-4xl lg:px-0\">\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl\">\n\t\t\t\t\t\t\t\t\t\t\tOrder history\n\t\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t\t<p className=\"mt-2 text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\tCheck the status of recent orders, manage returns, and\n\t\t\t\t\t\t\t\t\t\t\tdiscover similar products.\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"mt-16\">\n\t\t\t\t\t\t\t\t\t<h2 className=\"sr-only\">Recent orders</h2>\n\t\t\t\t\t\t\t\t\t<div className=\"mx-auto max-w-7xl sm:px-2 lg:px-8\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"mx-auto max-w-2xl space-y-8 sm:px-4 lg:max-w-4xl lg:px-0\">\n\t\t\t\t\t\t\t\t\t\t\t{orders.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{orders.map(order => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Order order={order} key={order.id} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<EmptyState />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TailwindContainer>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nfunction EmptyState() {\n\treturn (\n\t\t<div className=\"relative block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center\">\n\t\t\t<ShoppingBagIcon className=\"mx-auto h-9 w-9 text-gray-500\" />\n\t\t\t<span className=\"mt-4 block text-sm font-medium text-gray-500\">\n\t\t\t\tNo previous orders\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n\nfunction Order({\n\torder,\n}: {\n\torder: SerializeFrom<typeof loader>['orders'][number]\n}) {\n\tconst cancelOrder = useFetcher()\n\tconst feedbackFetcher = useFetcher()\n\tconst [isFeedbackModalOpen, handleFeedbackModal] = useDisclosure(false, {\n\t\tonClose: () => setFeedback(''),\n\t})\n\tconst [feedback, setFeedback] = React.useState('')\n\n\tconst isCancellingOrder = cancelOrder.state !== 'idle'\n\tconst isSubmittingFeedback = feedbackFetcher.state !== 'idle'\n\n\tconst isOrderPending = order.status === OrderStatus.PENDING\n\tconst isOrderCancelled = order.status === OrderStatus.CANCELLED\n\tconst isOrderRejected = order.status === OrderStatus.REJECTED\n\tconst isOrderFulfilled =\n\t\torder.status === OrderStatus.READY || order.status === OrderStatus.DELIVERED\n\tconst isOrderInProgress =\n\t\t!isOrderPending &&\n\t\t!isOrderCancelled &&\n\t\t!isOrderRejected &&\n\t\t!isOrderFulfilled\n\n\tReact.useEffect(() => {\n\t\tif (!feedbackFetcher.data?.success || feedbackFetcher.state !== 'idle') {\n\t\t\treturn\n\t\t}\n\n\t\thandleFeedbackModal.close()\n\t}, [\n\t\tfeedbackFetcher.data?.success,\n\t\tfeedbackFetcher.state,\n\t\thandleFeedbackModal,\n\t])\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"border-t border-b border-gray-200 bg-white shadow-sm sm:rounded-lg sm:border\">\n\t\t\t\t<h3 className=\"sr-only\">\n\t\t\t\t\tOrder placed on{' '}\n\t\t\t\t\t<time dateTime={order.createdAt}>\n\t\t\t\t\t\t{dateFormatter.format(new Date(order.createdAt))}\n\t\t\t\t\t</time>\n\t\t\t\t</h3>\n\n\t\t\t\t<div className=\"flex items-center justify-between py-6 px-4 sm:gap-6 sm:px-6 lg:gap-8\">\n\t\t\t\t\t<dl className=\"flex items-center gap-8\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<dt className=\"font-medium text-gray-900\">Transaction Id</dt>\n\t\t\t\t\t\t\t<dd className=\"mt-1 text-gray-500\">\n\t\t\t\t\t\t\t\t{order.invoice?.id.slice(-6).toUpperCase()}\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<dt className=\"font-medium text-gray-900\">Order number</dt>\n\t\t\t\t\t\t\t<dd className=\"mt-1 text-gray-500\">\n\t\t\t\t\t\t\t\t{order.id.slice(-6).toUpperCase()}\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"hidden sm:block\">\n\t\t\t\t\t\t\t<dt className=\"font-medium text-gray-900\">Date placed</dt>\n\t\t\t\t\t\t\t<dd className=\"mt-1 text-gray-500\">\n\t\t\t\t\t\t\t\t<time dateTime={order.createdAt}>\n\t\t\t\t\t\t\t\t\t{dateFormatter.format(new Date(order.createdAt))}\n\t\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<dt className=\"font-medium text-gray-900\">Total amount</dt>\n\t\t\t\t\t\t\t<dd className=\"mt-1 font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t{order.status === OrderStatus.CANCELLED ? (\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<s>${order.invoice?.amount.toFixed(2)}</s> $0\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t`${order.invoice?.amount.toFixed(2)}`\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"flex justify-between pt-6 text-gray-900 sm:block sm:pt-0\">\n\t\t\t\t\t\t\t<dt className=\"font-medium text-gray-900\">Status</dt>\n\t\t\t\t\t\t\t<dd className=\"mt-1 font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\t\tisOrderPending\n\t\t\t\t\t\t\t\t\t\t\t? 'blue'\n\t\t\t\t\t\t\t\t\t\t\t: isOrderCancelled\n\t\t\t\t\t\t\t\t\t\t\t? 'indigo'\n\t\t\t\t\t\t\t\t\t\t\t: isOrderRejected\n\t\t\t\t\t\t\t\t\t\t\t? 'red'\n\t\t\t\t\t\t\t\t\t\t\t: 'green'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{titleCase(order.status)}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</dl>\n\n\t\t\t\t\t{isOrderPending ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t\tloading={isCancellingOrder}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tcancelOrder.submit(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tintent: 'cancel-order',\n\t\t\t\t\t\t\t\t\t\torderId: order.id,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{method: 'post', replace: true}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel Order\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\n\t\t\t\t{order.feedback ? (\n\t\t\t\t\t<div className=\"mt-2 flex items-center gap-4 pt-6 text-sm text-gray-900 sm:block sm:pt-0\">\n\t\t\t\t\t\t<span className=\"pl-6 font-semibold\">Your feedback: </span>\n\t\t\t\t\t\t<span className=\"ml-1 font-normal\">\"{order.feedback}\"</span>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\n\t\t\t\t{/* Items */}\n\t\t\t\t<ul className=\"divide-y divide-gray-200\">\n\t\t\t\t\t{order.items.map(({item, quantity}) => (\n\t\t\t\t\t\t<li key={item.id} className=\"p-4 sm:p-6\">\n\t\t\t\t\t\t\t<div className=\"flex items-center sm:items-start\">\n\t\t\t\t\t\t\t\t<div className=\"h-20 w-20 flex-shrink-0 overflow-hidden rounded-lg bg-gray-200 sm:h-40 sm:w-40\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={item.image}\n\t\t\t\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-full w-full object-cover object-center\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"ml-6 flex-1 text-sm\">\n\t\t\t\t\t\t\t\t\t<div className=\"font-medium text-gray-900 sm:flex sm:justify-between\">\n\t\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t\t{item.name} <i>(x{quantity})</i>\n\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t<p className=\"mt-2 sm:mt-0\">\n\t\t\t\t\t\t\t\t\t\t\t${(item.price * quantity).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p className=\"hidden text-gray-500 sm:mt-2 sm:block\">\n\t\t\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"mt-6 sm:flex sm:justify-between\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t{isOrderFulfilled ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<CheckCircleIcon\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-green-500\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"ml-2 text-sm font-medium text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\tDelivered on{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<time dateTime={order.createdAt}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dateFormatter.format(new Date(order.createdAt))}\n\t\t\t\t\t\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : isOrderInProgress ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{/* <ClockIcon\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-blue-500\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"ml-2 text-sm font-medium text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\tEstimated time{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"italic\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{Math.floor(Math.random() * 20 + 30)} min\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</p> */}\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"mt-6 flex items-center space-x-4 divide-x divide-gray-200 border-t border-gray-200 pt-4 text-sm font-medium sm:mt-0 sm:ml-4 sm:border-none sm:pt-0\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-1 items-center justify-center gap-4\">\n\t\t\t\t\t\t\t\t\t\t{isOrderFulfilled && !order.feedback ? (\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"gradient\"\n\t\t\t\t\t\t\t\t\t\t\t\tcompact\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleFeedbackModal.open()}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tFeedback\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\t\tto={`/items/${item.slug}`}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tView Cuisine\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<Modal\n\t\t\t\topened={isFeedbackModalOpen}\n\t\t\t\tonClose={() => handleFeedbackModal.close()}\n\t\t\t\tcentered\n\t\t\t\toverlayBlur={0.8}\n\t\t\t\toverlayOpacity={0.2}\n\t\t\t\ttitle=\"Provide your feedback\"\n\t\t\t\tcloseOnClickOutside={false}\n\t\t\t\tcloseOnEscape={false}\n\t\t\t>\n\t\t\t\t<div className=\"mt-2 space-y-4\">\n\t\t\t\t\t<Textarea\n\t\t\t\t\t\tminRows={4}\n\t\t\t\t\t\tname=\"feedback\"\n\t\t\t\t\t\tdefaultValue={''}\n\t\t\t\t\t\tvalue={feedback}\n\t\t\t\t\t\tonChange={e => setFeedback(e.target.value)}\n\t\t\t\t\t\tplaceholder=\"Your feedback ...\"\n\t\t\t\t\t\tdisabled={isSubmittingFeedback}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className=\"flex items-center justify-end\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t\tloading={isSubmittingFeedback}\n\t\t\t\t\t\t\tdisabled={!feedback}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tfeedbackFetcher.submit(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tintent: 'publish-feedback',\n\t\t\t\t\t\t\t\t\t\torderId: order.id,\n\t\t\t\t\t\t\t\t\t\tfeedback,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPublish\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n", "import type {\n\tInvoice,\n\tOrder,\n\tOrderType,\n\tPaymentMethod,\n\tUser,\n} from '@prisma/client'\nimport {OrderStatus} from '@prisma/client'\nimport type {CartItem} from '~/context/CartContext'\nimport {db} from '~/db.server'\n\nexport function getOrders(userId: User['id']) {\n\treturn db.order.findMany({\n\t\twhere: {\n\t\t\tuserId,\n\t\t},\n\t\torderBy: {\n\t\t\tcreatedAt: 'desc',\n\t\t},\n\t\tinclude: {\n\t\t\tinvoice: true,\n\t\t\titems: {\n\t\t\t\tinclude: {\n\t\t\t\t\titem: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n}\n\nexport function createOrder({\n\tuserId,\n\titems,\n\tamount,\n\torderType,\n\tpaymentMethod,\n\tpickupDateTime,\n}: {\n\tuserId: User['id']\n\titems: Array<CartItem>\n\tamount: Invoice['amount']\n\tpaymentMethod: PaymentMethod\n\torderType: OrderType\n\tpickupDateTime: Order['pickupDateTime']\n}) {\n\treturn db.order.create({\n\t\tdata: {\n\t\t\tuserId,\n\t\t\ttype: orderType,\n\t\t\tstatus: OrderStatus.PENDING,\n\t\t\tpickupDateTime,\n\t\t\titems: {\n\t\t\t\tcreateMany: {\n\t\t\t\t\tdata: items.map(item => ({\n\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\tquantity: item.quantity,\n\t\t\t\t\t})),\n\t\t\t\t},\n\t\t\t},\n\t\t\tinvoice: {\n\t\t\t\tcreate: {\n\t\t\t\t\tamount,\n\t\t\t\t\ttotalAmount: amount,\n\t\t\t\t\tpaymentMethod,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n}\n\nexport async function cancelOrder(orderId: Order['id']) {\n\tconst order = await db.order.findUnique({\n\t\twhere: {\n\t\t\tid: orderId,\n\t\t},\n\t\tinclude: {\n\t\t\titems: {\n\t\t\t\tinclude: {\n\t\t\t\t\titem: true,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n\n\tif (!order) {\n\t\tthrow new Error('Order not found')\n\t}\n\n\treturn db.order.update({\n\t\twhere: {\n\t\t\tid: orderId,\n\t\t},\n\t\tdata: {\n\t\t\tstatus: OrderStatus.CANCELLED,\n\t\t},\n\t})\n}\n", "import {Button, NumberInput} from '@mantine/core'\nimport type {LoaderArgs} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {useLoaderData} from '@remix-run/react'\nimport {useCart} from '~/context/CartContext'\nimport {useItem} from '~/utils/hooks'\nimport * as React from 'react'\n\nexport const loader = async ({params}: LoaderArgs) => {\n\tconst {slug} = params\n\n\tif (!slug) {\n\t\tthrow new Response('No slug provided', {status: 404})\n\t}\n\n\treturn json({slug})\n}\n\nexport default function Item() {\n\tconst {slug} = useLoaderData<typeof loader>()\n\tconst item = useItem(slug)\n\n\t// This scenario is unlikely\n\t// as the slug is checked in the loader\n\tif (!item) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t\t<ItemOverview />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nfunction ItemOverview() {\n\tconst {slug} = useLoaderData<typeof loader>()\n\tconst item = useItem(slug)\n\tconst {addItemToCart} = useCart()\n\n\tconst [quantity, setQuantity] = React.useState<number>(1)\n\tconsole.log({quantity})\n\n\t// This scenario is unlikely\n\t// as the slug is checked in the loader\n\tif (!item) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<div className=\"mx-auto max-w-2xl py-16 px-4 sm:py-24 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-12 lg:px-8\">\n\t\t\t\t{/* Cuisine image */}\n\t\t\t\t<div className=\"sm:mt-10 lg:row-span-2 lg:mt-0 lg:self-center\">\n\t\t\t\t\t<div className=\"overflow-hidden rounded-lg shadow\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={item.image}\n\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\tclassName=\"aspect-square w-full object-cover\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Cuisine details */}\n\t\t\t\t<div className=\"lg:col-start-2 lg:max-w-lg lg:self-end\">\n\t\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t\t<h1 className=\"text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl\">\n\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<section aria-labelledby=\"information-heading\" className=\"mt-4\">\n\t\t\t\t\t\t<h2 id=\"information-heading\" className=\"sr-only\">\n\t\t\t\t\t\t\tCuisine information\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<p className=\"text-lg text-gray-900 sm:text-xl\">${item.price}</p>\n\n\t\t\t\t\t\t<div className=\"mt-4 space-y-6\">\n\t\t\t\t\t\t\t<p className=\"text-base text-gray-500\">{item.description}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\n\t\t\t\t\t<NumberInput\n\t\t\t\t\t\tlabel=\"Quantity\"\n\t\t\t\t\t\tclassName=\"mt-8\"\n\t\t\t\t\t\tplaceholder=\"Choose quantity.\"\n\t\t\t\t\t\tdescription=\"Default quantity is 1\"\n\t\t\t\t\t\tvalue={quantity}\n\t\t\t\t\t\tonChange={qty => {\n\t\t\t\t\t\t\tif (!qty || qty < 1) {\n\t\t\t\t\t\t\t\tsetQuantity(1)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetQuantity(qty)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\terror={quantity === undefined || quantity < 1 ? true : undefined}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Add to cart button */}\n\t\t\t\t<div className=\"mt-10 lg:col-start-2 lg:row-start-2 lg:max-w-lg lg:self-start\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tmt=\"2.5rem\"\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\taddItemToCart({\n\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\tquantity,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd to cart\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n", "import {Anchor} from '@mantine/core'\nimport {Link} from '@remix-run/react'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {useAppData} from '~/utils/hooks'\n\nexport default function Restaurants() {\n\tconst {foodTrucks: restaurants} = useAppData()\n\n\treturn (\n\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t<div className=\"bg-white\">\n\t\t\t\t<TailwindContainer>\n\t\t\t\t\t<div className=\"py-16 px-4 sm:py-20 sm:px-6 lg:px-8\">\n\t\t\t\t\t\t<h2 className=\"text-2xl font-extrabold tracking-tight text-gray-900\">\n\t\t\t\t\t\t\tFood Trucks\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<div className=\"mt-6 grid grid-cols-1 gap-x-4 gap-y-10 sm:grid-cols-2 sm:gap-6 md:grid-cols-3 lg:grid-cols-4 lg:gap-x-8\">\n\t\t\t\t\t\t\t{restaurants.map(restaurant => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div key={restaurant.id} className=\"mx-auto sm:mx-[unset]\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"aspect-square h-48 overflow-hidden rounded-md bg-gray-200 shadow lg:h-64\">\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={restaurant.image}\n\t\t\t\t\t\t\t\t\t\t\t\talt={restaurant.name}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-full w-full object-cover object-center\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"mt-4 text-sm text-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\tto={restaurant.slug}\n\t\t\t\t\t\t\t\t\t\t\t\tprefetch=\"intent\"\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{restaurant.name}\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</TailwindContainer>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n", "import {Anchor} from '@mantine/core'\nimport {Link} from '@remix-run/react'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {useAppData} from '~/utils/hooks'\nimport {formatTime} from '~/utils/misc'\n\nexport default function Dashboard() {\n\treturn (\n\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t<RestaurantList />\n\t\t</div>\n\t)\n}\n\nfunction RestaurantList() {\n\tconst {foodTrucks} = useAppData()\n\n\treturn (\n\t\t<div className=\"bg-white\">\n\t\t\t<TailwindContainer>\n\t\t\t\t<div className=\"py-16 px-4 sm:py-20 sm:px-6 lg:px-8\">\n\t\t\t\t\t<div className=\"md:flex md:items-center md:justify-between\">\n\t\t\t\t\t\t<h2 className=\"mb-8 text-2xl font-extrabold tracking-tight text-gray-900\">\n\t\t\t\t\t\t\tFood trucks\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"mt-6 grid grid-cols-1 gap-x-4 gap-y-10 sm:grid-cols-2 sm:gap-x-6 md:grid-cols-6 md:gap-y-0\">\n\t\t\t\t\t\t{foodTrucks.map(ft => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={ft.id}\n\t\t\t\t\t\t\t\t\tclassName=\"group relative mx-auto sm:mx-[unset]\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"overflow-hidden rounded-md group-hover:opacity-75\">\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tto={`/restaurants/${ft.slug}`}\n\t\t\t\t\t\t\t\t\t\t\tprefetch=\"intent\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"overflow-hidden rounded-lg group-hover:opacity-75\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ft.image}\n\t\t\t\t\t\t\t\t\t\t\t\talt={ft.name}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"aspect-square h-28 w-28  rounded-md object-cover object-center\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<h3 className=\"mt-4 mb-2 text-base text-gray-700\">\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\tto={`/restaurants/${ft.slug}`}\n\t\t\t\t\t\t\t\t\t\t\tprefetch=\"intent\"\n\t\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ft.name}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t\t{ft.schedule.map((schedule, index) => (\n\t\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">{schedule.day}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatTime(schedule.startTime)} -{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{formatTime(schedule.endTime)}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</TailwindContainer>\n\t\t</div>\n\t)\n}\n", "import {Anchor, Button} from '@mantine/core'\nimport {Link} from '@remix-run/react'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {useCart} from '~/context/CartContext'\nimport {useAppData} from '~/utils/hooks'\n\nexport default function Restaurants() {\n\tconst {items} = useAppData()\n\tconst {addItemToCart} = useCart()\n\n\treturn (\n\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t<div className=\"bg-white\">\n\t\t\t\t<TailwindContainer>\n\t\t\t\t\t<div className=\"py-16 px-4 sm:py-20 sm:px-6 lg:px-8\">\n\t\t\t\t\t\t<h2 className=\"text-2xl font-extrabold tracking-tight text-gray-900\">\n\t\t\t\t\t\t\tCuisines\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<div className=\"mt-6 grid grid-cols-1 gap-x-4 gap-y-10 sm:grid-cols-2 sm:gap-6 md:grid-cols-3 lg:grid-cols-4 lg:gap-x-8\">\n\t\t\t\t\t\t\t{items.map(item => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div key={item.id} className=\"mx-auto sm:mx-[unset]\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"h-48 overflow-hidden rounded-md bg-gray-200 shadow lg:h-64\">\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\n\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-full w-full object-cover object-center\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"mt-4 text-sm text-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t<Anchor to={item.slug} prefetch=\"intent\" component={Link}>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t${item.price}\n\t\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tmt=\"md\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\taddItemToCart({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\t\t\t\tquantity: 1,\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tAdd to cart\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</TailwindContainer>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n", "import {\n\tMinusCircleIcon,\n\tShoppingCartIcon,\n\tTrashIcon,\n} from '@heroicons/react/24/solid'\nimport {ActionIcon, Anchor, Button, Drawer, Input, Select} from '@mantine/core'\nimport {DatePicker, TimeInput} from '@mantine/dates'\nimport {cleanNotifications, showNotification} from '@mantine/notifications'\nimport {OrderType, PaymentMethod} from '@prisma/client'\nimport type {ActionArgs} from '@remix-run/node'\nimport {json, redirect} from '@remix-run/node'\nimport {Link, useFetcher} from '@remix-run/react'\nimport * as React from 'react'\nimport ReactInputMask from 'react-input-mask'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport type {CartItem} from '~/context/CartContext'\nimport {useCart} from '~/context/CartContext'\nimport {createOrder} from '~/lib/order.server'\nimport {requireUserId} from '~/session.server'\nimport {useAppData, useUser} from '~/utils/hooks'\nimport {daysOfWeek, titleCase} from '~/utils/misc'\nimport {badRequest} from '~/utils/misc.server'\n\ntype ActionData = Partial<{\n\tsuccess: boolean\n\tmessage: string\n}>\n\nexport async function action({request}: ActionArgs) {\n\tconst formData = await request.formData()\n\n\tconst userId = await requireUserId(request)\n\tconst intent = formData.get('intent')?.toString()\n\n\tif (!userId || !intent) {\n\t\treturn json({success: false, message: 'Unauthorized'}, {status: 401})\n\t}\n\n\tswitch (intent) {\n\t\tcase 'place-order': {\n\t\t\tconst stringifiedProducts = formData.get('products[]')?.toString()\n\t\t\tconst amount = formData.get('amount')?.toString()\n\t\t\tconst orderType = formData.get('orderType')?.toString()\n\t\t\tconst paymentMethod = formData.get('paymentMethod')?.toString()\n\t\t\tconst pickupDateTime = formData.get('pickupTime')?.toString()\n\n\t\t\tif (!stringifiedProducts || !amount || !paymentMethod || !orderType) {\n\t\t\t\treturn badRequest<ActionData>({\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\tmessage: 'Invalid request body',\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (orderType === OrderType.PICKUP && !pickupDateTime) {\n\t\t\t\treturn badRequest<ActionData>({\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\tmessage: 'Pickup time is required for pickup',\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst products = JSON.parse(stringifiedProducts) as Array<CartItem>\n\n\t\t\tawait createOrder({\n\t\t\t\tuserId,\n\t\t\t\titems: products,\n\t\t\t\tamount: Number(amount),\n\t\t\t\tpaymentMethod: paymentMethod as PaymentMethod,\n\t\t\t\torderType: orderType as OrderType,\n\t\t\t\tpickupDateTime: pickupDateTime ? new Date(pickupDateTime) : null,\n\t\t\t})\n\n\t\t\treturn redirect('/order-history/?success=true')\n\t\t}\n\t}\n}\n\nexport default function Cart() {\n\tconst id = React.useId()\n\tconst {foodTrucks} = useAppData()\n\tconst fetcher = useFetcher<ActionData>()\n\n\tconst {clearCart, itemsInCart, totalPrice} = useCart()\n\tconst {user} = useUser()\n\n\tconst [orderType, setOrderType] = React.useState<OrderType>(OrderType.PICKUP)\n\tconst [paymentMethod, setPaymentMethod] = React.useState<PaymentMethod>(\n\t\tPaymentMethod.CREDIT_CARD\n\t)\n\tconst [pickupDate, setPickupDate] = React.useState<Date | null>(\n\t\tnew Date(new Date().getTime() + 7 * 24 * 60 * 60 * 1000)\n\t)\n\tconst [pickupTime, setPickupTime] = React.useState<Date | null>(\n\t\tnew Date(new Date().setHours(16, 0, 0, 0))\n\t)\n\n\tconst [isPaymentModalOpen, setIsPaymentModalOpen] = React.useState(false)\n\tconst [cardNumber, setCardNumber] = React.useState<string>('1234567891234567')\n\tconst [cardExpiry, setCardExpiry] = React.useState<Date | null>(\n\t\tnew Date('2026-12-31')\n\t)\n\tconst [cardCvv, setCardCvv] = React.useState<string>('123')\n\tconst [errors, setErrors] = React.useState<{\n\t\tcardNumber?: string\n\t\tcardExpiry?: string\n\t\tcardCvv?: string\n\t}>({\n\t\tcardNumber: '',\n\t\tcardExpiry: '',\n\t\tcardCvv: '',\n\t})\n\n\tconst closePaymentModal = () => setIsPaymentModalOpen(false)\n\tconst showPaymentModal = () => setIsPaymentModalOpen(true)\n\n\tconst placeOrder = () => {\n\t\tif (isCashPayment) {\n\t\t\tsetErrors({\n\t\t\t\tcardNumber: '',\n\t\t\t\tcardExpiry: '',\n\t\t\t\tcardCvv: '',\n\t\t\t})\n\n\t\t\tif (cardNumber.replace(/[_ ]/g, '').length !== 16) {\n\t\t\t\tsetErrors(prevError => ({\n\t\t\t\t\t...prevError,\n\t\t\t\t\tcardNumber: 'Card number must be 16 digits',\n\t\t\t\t}))\n\t\t\t}\n\n\t\t\tif (!cardExpiry) {\n\t\t\t\tsetErrors(prevError => ({\n\t\t\t\t\t...prevError,\n\t\t\t\t\tcardExpiry: 'Card expiry is required',\n\t\t\t\t}))\n\t\t\t}\n\n\t\t\tif (!cardCvv || cardCvv.length !== 3) {\n\t\t\t\tsetErrors(prevError => ({\n\t\t\t\t\t...prevError,\n\t\t\t\t\tcardCvv: 'Card CVV must be 3 digits',\n\t\t\t\t}))\n\t\t\t}\n\n\t\t\tif (Object.values(errors).some(error => error !== '')) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tconst pickupDateTime =\n\t\t\tpickupDate && pickupTime\n\t\t\t\t? new Date(\n\t\t\t\t\t\tpickupDate.setHours(\n\t\t\t\t\t\t\tpickupTime.getHours(),\n\t\t\t\t\t\t\tpickupTime.getMinutes(),\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t)\n\t\t\t\t  )\n\t\t\t\t: null\n\t\tfetcher.submit(\n\t\t\t{\n\t\t\t\t'products[]': JSON.stringify(itemsInCart),\n\t\t\t\tamount: totalPrice.toString(),\n\t\t\t\tintent: 'place-order',\n\t\t\t\torderType,\n\t\t\t\tpaymentMethod,\n\t\t\t\tpickupDate: pickupDate?.toISOString() ?? '',\n\t\t\t\tpickupTime: pickupDateTime?.toISOString() ?? '',\n\t\t\t},\n\t\t\t{\n\t\t\t\tmethod: 'post',\n\t\t\t\treplace: true,\n\t\t\t}\n\t\t)\n\t}\n\n\tconst isSubmitting = fetcher.state !== 'idle'\n\n\tReact.useEffect(() => {\n\t\tif (fetcher.type !== 'done') {\n\t\t\treturn\n\t\t}\n\n\t\tcleanNotifications()\n\t\tif (!fetcher.data.success) {\n\t\t\tshowNotification({\n\t\t\t\ttitle: 'Error',\n\t\t\t\tmessage: fetcher.data.message,\n\t\t\t\ticon: <MinusCircleIcon className=\"h-7 w-7\" />,\n\t\t\t\tcolor: 'red',\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}, [fetcher.data, fetcher.type])\n\n\tconst isFoodTruckOpen = React.useMemo(() => {\n\t\tconst currentFoodTruck = foodTrucks.find(\n\t\t\tfoodTruck => foodTruck.id === itemsInCart[0]?.restaurantId\n\t\t)\n\n\t\tif (!currentFoodTruck) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst selectedPickupDate = pickupDate ?? new Date()\n\t\tconst selectedPickupTime = pickupTime ?? new Date()\n\n\t\tconst pickupDay = selectedPickupDate.getDay()\n\t\tconst pickupDateTime = new Date(\n\t\t\tselectedPickupDate.getFullYear(),\n\t\t\tselectedPickupDate.getMonth(),\n\t\t\tselectedPickupDate.getDate(),\n\t\t\tselectedPickupTime.getHours(),\n\t\t\tselectedPickupTime.getMinutes()\n\t\t)\n\n\t\treturn currentFoodTruck.schedule.some(({day, startTime, endTime}) => {\n\t\t\tconst foodTruckDayNumber = daysOfWeek.indexOf(day)\n\n\t\t\tconst foodTruckOpenTime = new Date(\n\t\t\t\tselectedPickupDate.getFullYear(),\n\t\t\t\tselectedPickupDate.getMonth(),\n\t\t\t\tselectedPickupDate.getDate(),\n\t\t\t\tnew Date(startTime).getHours(),\n\t\t\t\tnew Date(startTime).getMinutes()\n\t\t\t)\n\t\t\tconst foodTruckCloseTime = new Date(\n\t\t\t\tselectedPickupDate.getFullYear(),\n\t\t\t\tselectedPickupDate.getMonth(),\n\t\t\t\tselectedPickupDate.getDate(),\n\t\t\t\tnew Date(endTime).getHours(),\n\t\t\t\tnew Date(endTime).getMinutes()\n\t\t\t)\n\n\t\t\treturn (\n\t\t\t\tpickupDay === foodTruckDayNumber &&\n\t\t\t\tpickupDateTime.getTime() >= foodTruckOpenTime.getTime() &&\n\t\t\t\tpickupDateTime.getTime() <= foodTruckCloseTime.getTime()\n\t\t\t)\n\t\t})\n\t}, [foodTrucks, itemsInCart, pickupDate, pickupTime])\n\n\tconst isCashPayment = paymentMethod === PaymentMethod.CASH\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t\t<div className=\"bg-white\">\n\t\t\t\t\t<TailwindContainer>\n\t\t\t\t\t\t<div className=\"sm:px-4py-16 px-4 py-16 sm:py-20\">\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl\">\n\t\t\t\t\t\t\t\t\t\tYour cart\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\tProducts in your cart\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{itemsInCart.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<div className=\"space-x-2\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => clearCart()}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tClear cart\n\t\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => showPaymentModal()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tMake payment\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"mt-16\">\n\t\t\t\t\t\t\t\t<h2 className=\"sr-only\">Current ice-creams in cart</h2>\n\n\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-12\">\n\t\t\t\t\t\t\t\t\t{itemsInCart.length > 0 ? <CartItems /> : <EmptyState />}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TailwindContainer>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Drawer\n\t\t\t\topened={!!user && isPaymentModalOpen}\n\t\t\t\tonClose={closePaymentModal}\n\t\t\t\ttitle={<span className=\"mt-4 px-10\">Payment</span>}\n\t\t\t\tposition=\"right\"\n\t\t\t\toverlayBlur={1}\n\t\t\t\tsize=\"auto\"\n\t\t\t\toverlayOpacity={0.7}\n\t\t\t>\n\t\t\t\t<div className=\"flex flex-col gap-4 px-6\">\n\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t<h2 className=\"text-sm text-gray-600\">\n\t\t\t\t\t\t\t<span className=\"font-semibold\">Amount: </span>\n\t\t\t\t\t\t\t<span>${totalPrice}</span>\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabel=\"Order type\"\n\t\t\t\t\t\tvalue={orderType}\n\t\t\t\t\t\tclearable={false}\n\t\t\t\t\t\tonChange={e => setOrderType(e as OrderType)}\n\t\t\t\t\t\tdata={Object.values(OrderType).map(type => ({\n\t\t\t\t\t\t\tlabel: titleCase(type.replace(/_/g, ' ')),\n\t\t\t\t\t\t\tvalue: type,\n\t\t\t\t\t\t}))}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabel=\"Payment method\"\n\t\t\t\t\t\tvalue={paymentMethod}\n\t\t\t\t\t\tclearable={false}\n\t\t\t\t\t\tonChange={e => setPaymentMethod(e as PaymentMethod)}\n\t\t\t\t\t\tdata={Object.values(PaymentMethod).map(method => ({\n\t\t\t\t\t\t\tlabel: titleCase(method.replace(/_/g, ' ')),\n\t\t\t\t\t\t\tvalue: method,\n\t\t\t\t\t\t}))}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{!isCashPayment && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Input.Wrapper\n\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\tlabel=\"Credit card number\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={errors.cardNumber}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tcomponent={ReactInputMask}\n\t\t\t\t\t\t\t\t\tmask=\"9999 9999 9999 9999\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"XXXX XXXX XXXX XXXX\"\n\t\t\t\t\t\t\t\t\talwaysShowMask={false}\n\t\t\t\t\t\t\t\t\tvalue={cardNumber}\n\t\t\t\t\t\t\t\t\tonChange={e => setCardNumber(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Input.Wrapper>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t<Input.Wrapper\n\t\t\t\t\t\t\t\t\tid={id + 'cvv'}\n\t\t\t\t\t\t\t\t\tlabel=\"CVV\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\terror={errors.cardCvv}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid={id + 'cvv'}\n\t\t\t\t\t\t\t\t\t\tname=\"cvv\"\n\t\t\t\t\t\t\t\t\t\tcomponent={ReactInputMask}\n\t\t\t\t\t\t\t\t\t\tmask=\"999\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"XXX\"\n\t\t\t\t\t\t\t\t\t\talwaysShowMask={false}\n\t\t\t\t\t\t\t\t\t\tvalue={cardCvv}\n\t\t\t\t\t\t\t\t\t\tonChange={e => setCardCvv(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Input.Wrapper>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tname=\"expiryDate\"\n\t\t\t\t\t\t\t\t\tlabel=\"Expiry\"\n\t\t\t\t\t\t\t\t\tinputFormat=\"MM/YYYY\"\n\t\t\t\t\t\t\t\t\tclearable={false}\n\t\t\t\t\t\t\t\t\tplaceholder=\"MM/YYYY\"\n\t\t\t\t\t\t\t\t\tlabelFormat=\"MM/YYYY\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tvalue={cardExpiry}\n\t\t\t\t\t\t\t\t\tminDate={new Date()}\n\t\t\t\t\t\t\t\t\tonChange={e => setCardExpiry(e)}\n\t\t\t\t\t\t\t\t\terror={errors.cardExpiry}\n\t\t\t\t\t\t\t\t\tinitialLevel=\"year\"\n\t\t\t\t\t\t\t\t\thideOutsideDates\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tlabel=\"Pickup date\"\n\t\t\t\t\t\t\tclearable={false}\n\t\t\t\t\t\t\tminDate={new Date()}\n\t\t\t\t\t\t\tvalue={pickupDate}\n\t\t\t\t\t\t\tonChange={setPickupDate}\n\t\t\t\t\t\t\thideOutsideDates\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TimeInput\n\t\t\t\t\t\t\tlabel=\"Pickup time\"\n\t\t\t\t\t\t\tclearable={false}\n\t\t\t\t\t\t\tformat=\"12\"\n\t\t\t\t\t\t\tvalue={pickupTime}\n\t\t\t\t\t\t\tonChange={setPickupTime}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{!isFoodTruckOpen ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p className=\"text-sm text-red-500\">\n\t\t\t\t\t\t\t\tFood truck is currently closed for the pickup date time you've\n\t\t\t\t\t\t\t\tselected.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t<div className=\"mt-6 flex items-center gap-4 sm:justify-end\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\tonClick={() => closePaymentModal()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\tonClick={() => placeOrder()}\n\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t\tdisabled={!isFoodTruckOpen}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPlace order\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nfunction CartItems() {\n\tconst {itemsInCart, removeItemFromCart, totalPrice} = useCart()\n\n\treturn (\n\t\t<>\n\t\t\t<table className=\"mt-4 w-full text-gray-500 sm:mt-6\">\n\t\t\t\t<thead className=\"sr-only text-left text-sm text-gray-500 sm:not-sr-only\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\" className=\"py-3 pr-8 font-normal sm:w-2/5 lg:w-1/3\">\n\t\t\t\t\t\t\tProducts\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th\n\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\tclassName=\"hidden py-3 pr-8 font-normal sm:table-cell\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tQuantity\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th\n\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\tclassName=\"hidden py-3 pr-8 font-normal sm:table-cell\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t</th>\n\n\t\t\t\t\t\t<th scope=\"col\" className=\"w-0 py-3 text-right font-normal\" />\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody className=\"divide-y divide-gray-200 border-b border-gray-200 text-sm sm:border-t\">\n\t\t\t\t\t{itemsInCart.map(item => {\n\t\t\t\t\t\tconst itemTotalPrice = item.price * item.quantity\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={item.id}>\n\t\t\t\t\t\t\t\t<td className=\"py-6 pr-8\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\n\t\t\t\t\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-6 h-16 w-16 rounded object-cover object-center\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/product/${item.slug}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t<td className=\"hidden py-6 pr-8 sm:table-cell\">\n\t\t\t\t\t\t\t\t\t{item.quantity}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"hidden py-6 pr-8 font-semibold sm:table-cell\">\n\t\t\t\t\t\t\t\t\t${itemTotalPrice.toFixed(2)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap py-6 text-right font-medium\">\n\t\t\t\t\t\t\t\t\t<ActionIcon onClick={() => removeItemFromCart(item.id!)}>\n\t\t\t\t\t\t\t\t\t\t<TrashIcon className=\"h-4 w-4 text-red-500\" />\n\t\t\t\t\t\t\t\t\t</ActionIcon>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td className=\"py-6 pr-8\">\n\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"font-medium text-gray-900\" />\n\t\t\t\t\t\t\t\t\t<div className=\"mt-1 sm:hidden\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className=\"hidden py-6 pr-8 sm:table-cell\" />\n\t\t\t\t\t\t<td className=\"hidden py-6 pr-8 font-semibold sm:table-cell\">\n\t\t\t\t\t\t\t<span>${totalPrice.toFixed(2)}</span>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</>\n\t)\n}\n\nfunction EmptyState() {\n\treturn (\n\t\t<div className=\"relative block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center\">\n\t\t\t<ShoppingCartIcon className=\"mx-auto h-9 w-9 text-gray-500\" />\n\t\t\t<span className=\"mt-4 block text-sm font-medium text-gray-500\">\n\t\t\t\tYour cart is empty\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n", "import {\n\tArrowLeftOnRectangleIcon,\n\tArrowRightOnRectangleIcon,\n\tUserPlusIcon,\n} from '@heroicons/react/24/solid'\n\nimport {Anchor, Avatar, Divider, Menu, ScrollArea} from '@mantine/core'\nimport type {LoaderArgs, SerializeFrom} from '@remix-run/node'\nimport {json, redirect} from '@remix-run/node'\nimport {Form, Link, Outlet, useLocation} from '@remix-run/react'\nimport appConfig from 'appConfig'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {isCustomer, isStaff, requireUser} from '~/session.server'\nimport {useOptionalUser} from '~/utils/hooks'\n\nexport type AppLoaderData = SerializeFrom<typeof loader>\nexport const loader = async ({request}: LoaderArgs) => {\n\tawait requireUser(request)\n\n\tif (await isCustomer(request)) {\n\t\treturn redirect('/')\n\t} else if (await isStaff(request)) {\n\t\treturn redirect('/staff')\n\t}\n\n\treturn json({})\n}\n\nexport default function AppLayout() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex h-full flex-col\">\n\t\t\t\t<HeaderComponent />\n\t\t\t\t<ScrollArea classNames={{root: 'flex-1 bg-gray-100'}}>\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<Outlet />\n\t\t\t\t\t</main>\n\t\t\t\t</ScrollArea>\n\n\t\t\t\t<FooterComponent />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nfunction HeaderComponent() {\n\tconst location = useLocation()\n\tconst {user} = useOptionalUser()\n\n\treturn (\n\t\t<>\n\t\t\t<Form replace action=\"/api/auth/logout\" method=\"post\" id=\"logout-form\" />\n\t\t\t<header className=\"max-h-16 bg-gray-900\">\n\t\t\t\t<TailwindContainer>\n\t\t\t\t\t<div className=\"flex h-full w-full items-center justify-between\">\n\t\t\t\t\t\t<div className=\"flex flex-shrink-0 items-center gap-4\">\n\t\t\t\t\t\t\t<Anchor component={Link} to=\"/\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"h-16 object-cover object-center\"\n\t\t\t\t\t\t\t\t\tsrc={appConfig.logo}\n\t\t\t\t\t\t\t\t\talt=\"Logo\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\tposition=\"bottom-start\"\n\t\t\t\t\t\t\t\twithArrow\n\t\t\t\t\t\t\t\ttransition=\"pop-top-right\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Menu.Target>\n\t\t\t\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t\t\t\t{user ? (\n\t\t\t\t\t\t\t\t\t\t\t<Avatar color=\"blue\" size=\"md\">\n\t\t\t\t\t\t\t\t\t\t\t\t{user.firstName.charAt(0)}\n\t\t\t\t\t\t\t\t\t\t\t\t{user.lastName.charAt(0)}\n\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Avatar />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Menu.Target>\n\n\t\t\t\t\t\t\t\t<Menu.Dropdown>\n\t\t\t\t\t\t\t\t\t{user ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.firstName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.lastName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"mt-0.5 text-sm\">{user.email}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t<Divider />\n\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<ArrowLeftOnRectangleIcon className=\"h-4 w-4\" />}\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\tform=\"logout-form\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<ArrowRightOnRectangleIcon className=\"h-4 w-4\" />}\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/login?redirectTo=${encodeURIComponent(\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.pathname\n\t\t\t\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<UserPlusIcon className=\"h-4 w-4\" />}\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/register?redirectTo=${encodeURIComponent(\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocation.pathname\n\t\t\t\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tCreate account\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Menu.Dropdown>\n\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</TailwindContainer>\n\t\t\t</header>\n\t\t</>\n\t)\n}\n\nfunction FooterComponent() {\n\treturn (\n\t\t<footer>\n\t\t\t<span className=\"text-gray-400\"></span>\n\t\t</footer>\n\t)\n}\n", "import {PlusIcon} from '@heroicons/react/24/solid'\nimport {Button, Modal, PasswordInput, TextInput, Textarea} from '@mantine/core'\nimport {TimeInput} from '@mantine/dates'\nimport {useDisclosure} from '@mantine/hooks'\nimport type {ActionFunction} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {useFetcher, useLoaderData} from '@remix-run/react'\nimport {ObjectId} from 'bson'\nimport * as React from 'react'\nimport slugify from 'slugify'\nimport {z} from 'zod'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {db} from '~/db.server'\nimport {createPasswordHash, daysOfWeek, formatTime} from '~/utils/misc'\nimport {badRequest} from '~/utils/misc.server'\nimport type {inferErrors} from '~/utils/validation'\nimport {validateAction} from '~/utils/validation'\n\nconst AddFoodTruckSchema = z.object({\n\tname: z.string().min(1, 'Name is required'),\n\timage: z.string().min(1, 'Image is required'),\n\tdescription: z.string().min(1, 'Description is required'),\n\temail: z.string().email('Please enter a valid email address'),\n\tpassword: z.string().min(8, 'Password must be at least 8 characters'),\n})\n\nexport const loader = async () => {\n\tconst foodTrucks = await db.foodTruck.findMany({\n\t\tinclude: {\n\t\t\tschedule: true,\n\t\t},\n\t})\n\n\treturn json({foodTrucks})\n}\n\ninterface ActionData {\n\tsuccess: boolean\n\tfieldErrors?: inferErrors<typeof AddFoodTruckSchema>\n}\n\nexport const action: ActionFunction = async ({request}) => {\n\tconst {fields, fieldErrors} = await validateAction(\n\t\trequest,\n\t\tAddFoodTruckSchema\n\t)\n\n\tif (fieldErrors) {\n\t\treturn badRequest<ActionData>({success: false, fieldErrors})\n\t}\n\n\tawait db.foodTruck.create({\n\t\tdata: {\n\t\t\tname: fields.name,\n\t\t\timage: fields.image,\n\t\t\tslug: slugify(fields.name, {lower: true, strict: true}),\n\t\t\tdescription: fields.description,\n\t\t\tstaff: {\n\t\t\t\tcreate: {\n\t\t\t\t\temail: fields.email,\n\t\t\t\t\tpasswordHash: await createPasswordHash(fields.password),\n\t\t\t\t\trole: 'STAFF',\n\t\t\t\t\tfirstName: fields.name,\n\t\t\t\t\tlastName: 'Owner',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n\treturn json({success: true})\n}\n\nexport default function ManageFoodTrucks() {\n\tconst fetcher = useFetcher<ActionData>()\n\tconst {foodTrucks} = useLoaderData<typeof loader>()\n\n\ttype _FoodTruck = typeof foodTrucks[0]\n\n\tconst [isModalOpen, handleModal] = useDisclosure(false)\n\n\tconst [selectedFoodTruck, setSelectedFoodTruck] =\n\t\tReact.useState<_FoodTruck | null>(null)\n\tconst [isScheduleModalOpen, handleScheduleModal] = useDisclosure(false, {\n\t\tonClose: () => {\n\t\t\tsetSelectedFoodTruck(null)\n\t\t},\n\t})\n\n\tconst isSubmitting = fetcher.state !== 'idle'\n\n\tReact.useEffect(() => {\n\t\tif (fetcher.state !== 'idle' && fetcher.submission === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (fetcher.data?.success) {\n\t\t\thandleModal.close()\n\t\t\thandleScheduleModal.close()\n\t\t}\n\t\t// handleModal is not meemoized, so we don't need to add it to the dependency array\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [fetcher.data?.success, fetcher.state, fetcher.submission])\n\n\tconst [schedules, setSchedules] = React.useState<\n\t\ttypeof foodTrucks[0]['schedule']\n\t>([])\n\n\tReact.useEffect(() => {\n\t\tif (selectedFoodTruck) {\n\t\t\tsetSchedules(selectedFoodTruck.schedule)\n\t\t} else {\n\t\t\tsetSchedules([])\n\t\t}\n\t}, [selectedFoodTruck])\n\n\tconst validateTimes = (startTime: Date, endTime: Date): boolean => {\n\t\tif (isNaN(startTime.getTime()) || isNaN(endTime.getTime())) {\n\t\t\treturn false\n\t\t}\n\t\treturn startTime < endTime\n\t}\n\n\tconst updateSchedule = (\n\t\tday: string,\n\t\tfield: keyof typeof schedules[0],\n\t\tvalue: Date | null\n\t) => {\n\t\tconst scheduleForDay = schedules.find(s => s.day === day)\n\n\t\tconst updatedSchedule: typeof schedules[0] = {\n\t\t\t...(scheduleForDay || {\n\t\t\t\tid: new ObjectId().toString(),\n\t\t\t\tfoodTruckId: selectedFoodTruck?.id || '',\n\t\t\t\tday,\n\t\t\t\tstartTime: '',\n\t\t\t\tendTime: '',\n\t\t\t}),\n\t\t}\n\n\t\tif (value) {\n\t\t\tupdatedSchedule[field] = value.toISOString()\n\t\t} else {\n\t\t\tsetSchedules(prev => prev.filter(s => s.day !== day))\n\t\t\treturn\n\t\t}\n\n\t\tif (!scheduleForDay && field === 'startTime' && value) {\n\t\t\tconst endTime = new Date(value)\n\t\t\tendTime.setHours(value.getHours() + 1)\n\t\t\tupdatedSchedule.endTime = endTime.toISOString()\n\t\t}\n\n\t\tif (updatedSchedule.startTime && updatedSchedule.endTime) {\n\t\t\tconst startTime = new Date(updatedSchedule.startTime)\n\t\t\tconst endTime = new Date(updatedSchedule.endTime)\n\n\t\t\tif (!validateTimes(startTime, endTime)) {\n\t\t\t\talert('Start time should be before end time.')\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tsetSchedules(prev => [...prev.filter(s => s.day !== day), updatedSchedule])\n\t}\n\n\tconst validateAndSave = () => {\n\t\tconst isValid = schedules.every(schedule => {\n\t\t\tconst startTime = new Date(schedule.startTime)\n\t\t\tconst endTime = new Date(schedule.endTime)\n\t\t\treturn validateTimes(startTime, endTime)\n\t\t})\n\n\t\tif (!isValid) {\n\t\t\talert(\n\t\t\t\t'Please ensure that all start and end times are valid and that start times are before their respective end times.'\n\t\t\t)\n\t\t\treturn\n\t\t}\n\n\t\t// Save the schedule here\n\t\tconst formData = new FormData()\n\n\t\tformData.append('foodTruckId', selectedFoodTruck!.id)\n\t\tformData.append('schedules', JSON.stringify(schedules))\n\n\t\tfetcher.submit(formData, {\n\t\t\tmethod: 'post',\n\t\t\treplace: true,\n\t\t\taction: '/api/food-trucks/schedule',\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<TailwindContainer className=\"rounded-md\">\n\t\t\t\t<div className=\"mt-8 px-4 py-10 sm:px-6 lg:px-8\">\n\t\t\t\t\t<div className=\"sm:flex sm:flex-auto sm:items-center sm:justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h1 className=\"text-lg font-semibold text-gray-900\">\n\t\t\t\t\t\t\t\tFood Trucks\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\tloaderPosition=\"left\"\n\t\t\t\t\t\t\t\tonClick={() => handleModal.open()}\n\t\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PlusIcon className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t<span className=\"ml-2\">Add</span>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mt-8 flex flex-col\">\n\t\t\t\t\t\t<div className=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n\t\t\t\t\t\t\t<div className=\"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8\">\n\t\t\t\t\t\t\t\t<table className=\"min-w-full divide-y divide-gray-300\">\n\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 md:pl-0\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"hidden py-3.5 px-3 text-left text-sm font-semibold text-gray-900 sm:table-cell\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tSchedule\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"relative py-3.5 pl-3 pr-4 sm:pr-6 md:pr-0\"\n\t\t\t\t\t\t\t\t\t\t\t></th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody className=\"divide-y divide-gray-200\">\n\t\t\t\t\t\t\t\t\t\t{foodTrucks.map(ft => (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={ft.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 md:pl-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ft.image}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={ft.image}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 w-8 rounded-full border object-cover shadow-md\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{ft.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 md:pl-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ft.schedule.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ft.schedule.map(s => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={s.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{s.day}:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatTime(s.startTime)} -{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatTime(s.endTime)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo schedule\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"relative space-x-4 whitespace-nowrap py-4 pl-3 pr-4 text-left text-sm font-medium sm:pr-6 md:pr-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedFoodTruck(ft)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleScheduleModal.open()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit Schedule\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</TailwindContainer>\n\n\t\t\t<Modal\n\t\t\t\topened={isModalOpen}\n\t\t\t\tonClose={() => handleModal.close()}\n\t\t\t\ttitle=\"Add Food Truck\"\n\t\t\t\tcentered\n\t\t\t\toverlayBlur={1.2}\n\t\t\t\toverlayOpacity={0.6}\n\t\t\t>\n\t\t\t\t<fetcher.Form method=\"post\" replace>\n\t\t\t\t\t<fieldset disabled={isSubmitting} className=\"flex flex-col gap-4\">\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.name}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\tlabel=\"Image\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.image}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.description}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.email}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.password}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"mt-1 flex items-center justify-end gap-4\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\tonClick={() => handleModal.close()}\n\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCreate\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</fetcher.Form>\n\t\t\t</Modal>\n\n\t\t\t<Modal\n\t\t\t\topened={isScheduleModalOpen}\n\t\t\t\tonClose={() => handleScheduleModal.close()}\n\t\t\t\ttitle=\"Edit Schedule\"\n\t\t\t\tcentered\n\t\t\t\toverlayBlur={1.2}\n\t\t\t\toverlayOpacity={0.6}\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"flex flex-col gap-4\">\n\t\t\t\t\t\t<input hidden />\n\t\t\t\t\t\t{daysOfWeek.map(day => {\n\t\t\t\t\t\t\tconst scheduleForDay = schedules.find(s => s.day === day)\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={day} className=\"grid grid-cols-3 items-center gap-4\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-900\">{day}</p>\n\t\t\t\t\t\t\t\t\t<TimeInput\n\t\t\t\t\t\t\t\t\t\tformat=\"12\"\n\t\t\t\t\t\t\t\t\t\tname={`schedule.${day}.startTime`}\n\t\t\t\t\t\t\t\t\t\tlabel=\"Start Time\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tscheduleForDay && new Date(scheduleForDay?.startTime)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\t\t\t\tif (!scheduleForDay) {\n\t\t\t\t\t\t\t\t\t\t\t\tvalue.setHours(value.getHours() + 1)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tupdateSchedule(day, 'startTime', value)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<TimeInput\n\t\t\t\t\t\t\t\t\t\tname={`schedule.${day}.endTime`}\n\t\t\t\t\t\t\t\t\t\tlabel=\"End Time\"\n\t\t\t\t\t\t\t\t\t\tsize=\"xs\"\n\t\t\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tvalue={scheduleForDay && new Date(scheduleForDay?.endTime)}\n\t\t\t\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\t\t\t\tif (!scheduleForDay) {\n\t\t\t\t\t\t\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Please set a start time before setting the end time.'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tupdateSchedule(day, 'endTime', value)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t<div className=\"mt-1 flex items-center justify-end gap-4\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\tonClick={() => handleScheduleModal.close()}\n\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t\t\tonClick={validateAndSave}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n", "import {ArrowLeftOnRectangleIcon} from '@heroicons/react/24/solid'\n\nimport {\n\tAnchor,\n\tAvatar,\n\tButton,\n\tDivider,\n\tDrawer,\n\tMenu,\n\tScrollArea,\n\tTextInput,\n} from '@mantine/core'\nimport {useDisclosure} from '@mantine/hooks'\nimport type {LoaderArgs, SerializeFrom} from '@remix-run/node'\nimport {json, redirect} from '@remix-run/node'\nimport {Form, Link, Outlet, useFetcher, useLoaderData} from '@remix-run/react'\nimport appConfig from 'appConfig'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {isAdmin, isCustomer, requireUser} from '~/session.server'\nimport {useUser} from '~/utils/hooks'\nimport * as React from 'react'\n\nexport type AppLoaderData = SerializeFrom<typeof loader>\nexport const loader = async ({request}: LoaderArgs) => {\n\tconst user = await requireUser(request)\n\n\tif (await isCustomer(request)) {\n\t\treturn redirect('/')\n\t} else if (await isAdmin(request)) {\n\t\treturn redirect('/admin')\n\t}\n\n\tconst hasResetPassword = user.hasResetPassword\n\n\treturn json({hasResetPassword})\n}\n\nexport default function AppLayout() {\n\tconst {user} = useUser()\n\tconst fetcher = useFetcher()\n\tconst {hasResetPassword} = useLoaderData<typeof loader>()\n\tconst [isModalOpen, handleModal] = useDisclosure(!hasResetPassword)\n\n\tconst isSubmitting = fetcher.state !== 'idle'\n\n\tReact.useEffect(() => {\n\t\tif (fetcher.type !== 'done') {\n\t\t\treturn\n\t\t}\n\n\t\tif (!fetcher.data.success) {\n\t\t\treturn\n\t\t}\n\n\t\thandleModal.close()\n\t}, [fetcher.data, fetcher.type, handleModal])\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex h-full flex-col\">\n\t\t\t\t<HeaderComponent />\n\t\t\t\t<ScrollArea classNames={{root: 'flex-1 bg-gray-100'}}>\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<Outlet />\n\t\t\t\t\t</main>\n\t\t\t\t</ScrollArea>\n\n\t\t\t\t<FooterComponent />\n\t\t\t</div>\n\n\t\t\t<Drawer\n\t\t\t\topened={isModalOpen}\n\t\t\t\tonClose={handleModal.close}\n\t\t\t\ttitle=\"Rest Password\"\n\t\t\t\tpadding=\"md\"\n\t\t\t\tsize=\"lg\"\n\t\t\t\toverlayBlur={1}\n\t\t\t\toverlayOpacity={0.5}\n\t\t\t\twithCloseButton={!hasResetPassword}\n\t\t\t\tcloseOnEscape={!hasResetPassword}\n\t\t\t\tcloseOnClickOutside={!hasResetPassword}\n\t\t\t>\n\t\t\t\t<fetcher.Form\n\t\t\t\t\tmethod=\"post\"\n\t\t\t\t\treplace\n\t\t\t\t\tclassName=\"flex flex-col gap-4\"\n\t\t\t\t\taction=\"/api/reset-password\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"mt-6 grid grid-cols-2 gap-4\">\n\t\t\t\t\t\t<input hidden name=\"userId\" defaultValue={user.id} />\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</fetcher.Form>\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nfunction HeaderComponent() {\n\tconst {user} = useUser()\n\n\treturn (\n\t\t<>\n\t\t\t<Form replace action=\"/api/auth/logout\" method=\"post\" id=\"logout-form\" />\n\t\t\t<header className=\"max-h-16 bg-gray-900\">\n\t\t\t\t<TailwindContainer>\n\t\t\t\t\t<div className=\"flex h-full w-full items-center justify-between\">\n\t\t\t\t\t\t<div className=\"flex flex-shrink-0 items-center gap-4\">\n\t\t\t\t\t\t\t<Anchor component={Link} to=\"/\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"h-16 object-cover object-center\"\n\t\t\t\t\t\t\t\t\tsrc={appConfig.logo}\n\t\t\t\t\t\t\t\t\talt=\"Logo\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\tposition=\"bottom-start\"\n\t\t\t\t\t\t\t\twithArrow\n\t\t\t\t\t\t\t\ttransition=\"pop-top-right\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Menu.Target>\n\t\t\t\t\t\t\t\t\t<button>\n\t\t\t\t\t\t\t\t\t\t{user ? (\n\t\t\t\t\t\t\t\t\t\t\t<Avatar color=\"blue\" size=\"md\">\n\t\t\t\t\t\t\t\t\t\t\t\t{user.firstName.charAt(0)}\n\t\t\t\t\t\t\t\t\t\t\t\t{user.lastName.charAt(0)}\n\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Avatar />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Menu.Target>\n\n\t\t\t\t\t\t\t\t<Menu.Dropdown>\n\t\t\t\t\t\t\t\t\t<Menu.Item disabled>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t{user.firstName}\n\t\t\t\t\t\t\t\t\t\t\t\t{user.lastName}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"mt-0.5 text-sm\">{user.email}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t<Divider />\n\n\t\t\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\t\t\ticon={<ArrowLeftOnRectangleIcon className=\"h-4 w-4\" />}\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tform=\"logout-form\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t</Menu.Dropdown>\n\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</TailwindContainer>\n\t\t\t</header>\n\t\t</>\n\t)\n}\n\nfunction FooterComponent() {\n\treturn (\n\t\t<footer>\n\t\t\t<span className=\"text-gray-400\"></span>\n\t\t</footer>\n\t)\n}\n", "import {ArrowLeftIcon, PlusIcon} from '@heroicons/react/24/solid'\nimport {Button, Modal, PasswordInput, TextInput} from '@mantine/core'\nimport {useDisclosure} from '@mantine/hooks'\nimport type {ActionFunction, LoaderArgs} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {Link, useFetcher, useLoaderData} from '@remix-run/react'\nimport * as React from 'react'\nimport {z} from 'zod'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {db} from '~/db.server'\nimport {requireUser} from '~/session.server'\nimport {useUser} from '~/utils/hooks'\nimport {createPasswordHash} from '~/utils/misc'\nimport {badRequest} from '~/utils/misc.server'\nimport type {inferErrors} from '~/utils/validation'\nimport {validateAction} from '~/utils/validation'\n\nconst AddEmployeeSchema = z.object({\n\tfirstName: z.string().min(1, 'First name is required'),\n\tlastName: z.string().min(1, 'Last name is required'),\n\temail: z.string().min(1, 'Email is required'),\n\tpassword: z.string().min(8, 'Password must be at least 8 characters'),\n\tfoodTruckId: z.string().min(1, 'Food truck is required'),\n})\n\nexport const loader = async ({request}: LoaderArgs) => {\n\tconst user = await requireUser(request)\n\n\tconst employees = await db.user.findMany({\n\t\twhere: {\n\t\t\tfoodTruckId: user?.foodTruckId,\n\t\t},\n\t})\n\n\treturn json({employees})\n}\n\ninterface ActionData {\n\tsuccess: boolean\n\tfieldErrors?: inferErrors<typeof AddEmployeeSchema>\n}\n\nexport const action: ActionFunction = async ({request}) => {\n\tconst {fields, fieldErrors} = await validateAction(request, AddEmployeeSchema)\n\tif (fieldErrors) {\n\t\treturn badRequest<ActionData>({success: false, fieldErrors})\n\t}\n\n\tawait db.user.create({\n\t\tdata: {\n\t\t\tfirstName: fields.firstName,\n\t\t\tlastName: fields.lastName,\n\t\t\temail: fields.email,\n\t\t\tpasswordHash: await createPasswordHash(fields.password),\n\t\t\tfoodTruck: {\n\t\t\t\tconnect: {\n\t\t\t\t\tid: fields.foodTruckId,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n\treturn json({success: true})\n}\n\nexport default function ManageEmployees() {\n\tconst fetcher = useFetcher<ActionData>()\n\tconst {employees} = useLoaderData<typeof loader>()\n\n\tconst {user} = useUser()\n\n\tconst [isModalOpen, handleModal] = useDisclosure(false)\n\n\tconst isSubmitting = fetcher.state !== 'idle'\n\n\tReact.useEffect(() => {\n\t\tif (fetcher.state !== 'idle' && fetcher.submission === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (fetcher.data?.success) {\n\t\t\thandleModal.close()\n\t\t}\n\t\t// handleModal is not meemoized, so we don't need to add it to the dependency array\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [fetcher.data?.success, fetcher.state, fetcher.submission])\n\n\treturn (\n\t\t<>\n\t\t\t<TailwindContainer className=\"rounded-md\">\n\t\t\t\t<div className=\"mt-8 px-4 py-10 sm:px-6 lg:px-8\">\n\t\t\t\t\t<div className=\"sm:flex sm:flex-auto sm:items-center sm:justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tleftIcon={<ArrowLeftIcon className=\"h-4 w-4\" />}\n\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto=\"..\"\n\t\t\t\t\t\t\t\tpl={0}\n\t\t\t\t\t\t\t\tmb={20}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<h1 className=\"text-lg font-semibold text-gray-900\">Staff</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\tloaderPosition=\"left\"\n\t\t\t\t\t\t\t\tonClick={() => handleModal.open()}\n\t\t\t\t\t\t\t\tvariant=\"light\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PlusIcon className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t<span className=\"ml-2\">Add</span>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mt-8 flex flex-col\">\n\t\t\t\t\t\t<div className=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n\t\t\t\t\t\t\t<div className=\"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8\">\n\t\t\t\t\t\t\t\t<table className=\"min-w-full divide-y divide-gray-300\">\n\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 md:pl-0\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"hidden py-3.5 px-3 text-left text-sm font-semibold text-gray-900 sm:table-cell\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"relative py-3.5 pl-3 pr-4 sm:pr-6 md:pr-0\"\n\t\t\t\t\t\t\t\t\t\t\t></th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody className=\"divide-y divide-gray-200\">\n\t\t\t\t\t\t\t\t\t\t{employees.map(ft => (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={ft.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 md:pl-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ft.firstName} {ft.lastName}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 md:pl-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ft.email}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"relative space-x-4 whitespace-nowrap py-4 pl-3 pr-4 text-left text-sm font-medium sm:pr-6 md:pr-0\"></td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</TailwindContainer>\n\n\t\t\t<Modal\n\t\t\t\topened={isModalOpen}\n\t\t\t\tonClose={() => handleModal.close()}\n\t\t\t\ttitle=\"Add Food Truck\"\n\t\t\t\tcentered\n\t\t\t\toverlayBlur={1.2}\n\t\t\t\toverlayOpacity={0.6}\n\t\t\t>\n\t\t\t\t<fetcher.Form method=\"post\" replace>\n\t\t\t\t\t<fieldset disabled={isSubmitting} className=\"flex flex-col gap-4\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\tname=\"foodTruckId\"\n\t\t\t\t\t\t\tdefaultValue={user?.foodTruckId ?? ''}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\t\tlabel=\"First Name\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.firstName}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\t\tlabel=\"Last Name\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.lastName}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.email}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.password}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"mt-1 flex items-center justify-end gap-4\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\tonClick={() => handleModal.close()}\n\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCreate\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</fetcher.Form>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n", "import {\n\tCheckCircleIcon,\n\tMinusCircleIcon,\n\tShoppingCartIcon,\n} from '@heroicons/react/24/solid'\nimport {ActionIcon, Badge, Button, Modal, NativeSelect} from '@mantine/core'\nimport {useDisclosure} from '@mantine/hooks'\nimport {OrderStatus, OrderType} from '@prisma/client'\nimport type {ActionArgs, LoaderArgs} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {useLoaderData, useSubmit, useTransition} from '@remix-run/react'\nimport * as React from 'react'\nimport invariant from 'tiny-invariant'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {db} from '~/db.server'\nimport {requireUser} from '~/session.server'\nimport {titleCase} from '~/utils/misc'\n\nexport const loader = async ({request}: LoaderArgs) => {\n\tawait requireUser(request)\n\n\tconst orders = await db.order.findMany({\n\t\torderBy: {createdAt: 'desc'},\n\t\tinclude: {\n\t\t\tinvoice: true,\n\t\t\titems: {\n\t\t\t\tinclude: {\n\t\t\t\t\titem: true,\n\t\t\t\t},\n\t\t\t},\n\t\t\tuser: true,\n\t\t},\n\t})\n\n\treturn json({orders})\n}\n\nexport const action = async ({request}: ActionArgs) => {\n\tconst formData = await request.formData()\n\n\tconst intent = formData.get('intent')?.toString()\n\tinvariant(intent, 'Invalid intent')\n\n\tconst orderId = formData.get('orderId')?.toString()\n\tinvariant(orderId, 'Invalid order id')\n\n\tswitch (intent) {\n\t\tcase 'approve-order': {\n\t\t\tawait db.order.update({\n\t\t\t\twhere: {id: orderId},\n\t\t\t\tdata: {status: OrderStatus.PREPARING},\n\t\t\t})\n\n\t\t\treturn json({success: true})\n\t\t}\n\n\t\tcase 'reject-order': {\n\t\t\tawait db.order.update({\n\t\t\t\twhere: {id: orderId},\n\t\t\t\tdata: {status: OrderStatus.REJECTED},\n\t\t\t})\n\n\t\t\treturn json({success: true})\n\t\t}\n\n\t\tcase 'update-order-status': {\n\t\t\tconst status = formData.get('status')?.toString()\n\t\t\tinvariant(status, 'Invalid status')\n\n\t\t\tawait db.order.update({\n\t\t\t\twhere: {id: orderId},\n\t\t\t\tdata: {status: status as OrderStatus},\n\t\t\t})\n\n\t\t\treturn json({success: true})\n\t\t}\n\n\t\tdefault:\n\t\t\treturn json({success: false, message: 'Invalid intent'}, {status: 400})\n\t}\n}\n\nexport default function Orders() {\n\tconst {orders} = useLoaderData<typeof loader>()\n\tconst transition = useTransition()\n\tconst submit = useSubmit()\n\n\tconst [items, setProducts] = React.useState<typeof orders[number]['items']>(\n\t\t[]\n\t)\n\tconst [isOpen, modalHandler] = useDisclosure(false, {\n\t\tonClose: () => setProducts([]),\n\t})\n\n\tconst isSubmitting = transition.state !== 'idle'\n\n\treturn (\n\t\t<>\n\t\t\t<TailwindContainer className=\"mt-16\">\n\t\t\t\t<div className=\"px-4 sm:px-6 lg:px-8\">\n\t\t\t\t\t<div className=\"sm:flex sm:items-center\">\n\t\t\t\t\t\t<div className=\"sm:flex-auto\">\n\t\t\t\t\t\t\t<h1 className=\"text-xl font-semibold text-gray-900\">Orders</h1>\n\t\t\t\t\t\t\t<p className=\"mt-2 text-sm text-gray-700\">\n\t\t\t\t\t\t\t\tA list of all the orders in your account including their user\n\t\t\t\t\t\t\t\tdetails.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mt-8 flex flex-col\">\n\t\t\t\t\t\t<div className=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n\t\t\t\t\t\t\t<div className=\"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8\">\n\t\t\t\t\t\t\t\t<div className=\"shadow ring-1 ring-black ring-opacity-5 md:rounded-lg\">\n\t\t\t\t\t\t\t\t\t{orders.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t<table className=\"min-w-full divide-y divide-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t<thead className=\"bg-gray-50\">\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tType\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tProducts\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"relative py-3.5 pl-3 pr-4 sm:pr-6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody className=\"divide-y divide-gray-200 bg-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t{orders.map(order => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst isPending = order.status === OrderStatus.PENDING\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst isCancelled =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.status === OrderStatus.CANCELLED\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst isRejected =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.status === OrderStatus.REJECTED\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst statusOptions =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.type === OrderType.PICKUP\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? ['PREPARING', 'READY']\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ['PREPARING', 'DELIVERED']\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst isOrderReady =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.status === OrderStatus.READY\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst isOrderDelivered =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.status === OrderStatus.DELIVERED\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={order.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{order.user.firstName} {order.user.lastName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{order.user.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{titleCase(order.type)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{order.invoice?.paymentMethod\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? order.invoice?.paymentMethod.replace(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'_',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' '\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: '-'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisPending\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isCancelled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'indigo'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isRejected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'red'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'green'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{titleCase(order.status)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap px-3 py-4 text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcompact\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducts(order.items)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodalHandler.open()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView all\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"relative flex items-center justify-center whitespace-nowrap py-4 pl-3 pr-4 text-sm font-medium sm:pr-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isPending ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting || !isPending}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsubmit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent: 'approve-order',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torderId: order.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircleIcon className=\"h-6\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ActionIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ActionIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"intent\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"reject-order\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting || !isPending}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsubmit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent: 'reject-order',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torderId: order.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MinusCircleIcon className=\"h-7\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ActionIcon>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : !isRejected &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  !isCancelled &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  !isOrderDelivered &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  !isOrderReady ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NativeSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-48\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={order.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata={statusOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsubmit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent: 'update-order-status',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torderId: order.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative block w-full rounded-lg border-2 border-dashed border-gray-300 bg-white p-12 text-center\">\n\t\t\t\t\t\t\t\t\t\t\t<ShoppingCartIcon className=\"mx-auto h-9 w-9 text-gray-500\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mt-4 block text-sm font-medium text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\tNo orders placed yet. <br />\n\t\t\t\t\t\t\t\t\t\t\t\tCome back later.\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</TailwindContainer>\n\n\t\t\t<Modal\n\t\t\t\topened={isOpen && items.length > 0}\n\t\t\t\tonClose={() => modalHandler.close()}\n\t\t\t\tsize=\"xl\"\n\t\t\t\toverflow=\"inside\"\n\t\t\t\ttitle=\"Products\"\n\t\t\t>\n\t\t\t\t<>\n\t\t\t\t\t<table className=\"mt-4 w-full text-gray-500 sm:mt-6\">\n\t\t\t\t\t\t<caption className=\"sr-only\">Ice-cream</caption>\n\t\t\t\t\t\t<thead className=\"sr-only text-left text-sm text-gray-500 sm:not-sr-only\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\tclassName=\"py-3 pr-8 font-normal sm:w-2/5 lg:w-1/3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tItem\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\tclassName=\"hidden w-1/5 py-3 pr-8 font-normal sm:table-cell\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tQuantity\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\tclassName=\"hidden py-3 pr-8 font-normal sm:table-cell\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody className=\"divide-y divide-gray-200 border-b border-gray-200 text-sm sm:border-t\">\n\t\t\t\t\t\t\t{items.map(item => (\n\t\t\t\t\t\t\t\t<tr key={item.id}>\n\t\t\t\t\t\t\t\t\t<td className=\"py-6 pr-8\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.item.image}\n\t\t\t\t\t\t\t\t\t\t\t\talt={item.item.name}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-6 h-16 w-16 rounded object-cover object-center\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t<td className=\"hidden py-6 pr-8 sm:table-cell\">\n\t\t\t\t\t\t\t\t\t\t{item.quantity}\n\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t<td className=\"hidden py-6 pr-8 sm:table-cell\">\n\t\t\t\t\t\t\t\t\t\t${(item.item.price * item.quantity).toFixed(2)}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n", "import type {LoaderArgs} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {Link} from '@remix-run/react'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {requireUserId} from '~/session.server'\n\nconst actions = [\n\t{\n\t\ttitle: 'Staff',\n\t\tdescription: 'View and add staff',\n\t\thref: 'employees',\n\t},\n\t{\n\t\ttitle: 'Order',\n\t\tdescription: 'View and manage orders',\n\t\thref: 'orders',\n\t},\n\t{\n\t\ttitle: 'Items',\n\t\tdescription: 'View and manage items',\n\t\thref: 'items',\n\t},\n]\n\nexport const loader = async ({request}: LoaderArgs) => {\n\tawait requireUserId(request)\n\treturn json({})\n}\n\nexport default function FoodTruckStaffDashboard() {\n\treturn (\n\t\t<div className=\"flex flex-col gap-4 p-4\">\n\t\t\t<div>\n\t\t\t\t<TailwindContainer>\n\t\t\t\t\t<div className=\"py-16 px-4 sm:px-6 lg:px-8\">\n\t\t\t\t\t\t<h2 className=\"text-2xl font-extrabold tracking-tight text-gray-900\">\n\t\t\t\t\t\t\tFoodTruck Dashboard\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<div className=\"mt-12 divide-y divide-gray-200 overflow-hidden rounded-lg bg-gray-200 shadow sm:grid sm:grid-cols-1 sm:gap-px sm:divide-y-0\">\n\t\t\t\t\t\t\t{actions.map((action, actionIdx) => (\n\t\t\t\t\t\t\t\t<Card action={action} actionIdx={actionIdx} key={actionIdx} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</TailwindContainer>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nfunction Card({\n\taction,\n\tactionIdx,\n}: {\n\taction: typeof actions[number]\n\tactionIdx: number\n}) {\n\treturn (\n\t\t<div key={action.title} className=\"group relative rounded-lg bg-white p-6\">\n\t\t\t<div>\n\t\t\t\t<h3 className=\"text-lg font-medium\">\n\t\t\t\t\t<Link to={action.href} className=\"focus:outline-none\">\n\t\t\t\t\t\t{/* Extend touch target to entire panel */}\n\t\t\t\t\t\t<span className=\"absolute inset-0\" aria-hidden=\"true\" />\n\t\t\t\t\t\t{action.title}\n\t\t\t\t\t</Link>\n\t\t\t\t</h3>\n\t\t\t\t<p className=\"mt-2 text-sm text-gray-500\">{action.description}</p>\n\t\t\t</div>\n\t\t\t<span\n\t\t\t\tclassName=\"pointer-events-none absolute top-6 right-6 text-gray-300 group-hover:text-gray-400\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\tclassName=\"h-6 w-6\"\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t>\n\t\t\t\t\t<path d=\"M20 4h1a1 1 0 00-1-1v1zm-1 12a1 1 0 102 0h-2zM8 3a1 1 0 000 2V3zM3.293 19.293a1 1 0 101.414 1.414l-1.414-1.414zM19 4v12h2V4h-2zm1-1H8v2h12V3zm-.707.293l-16 16 1.414 1.414 16-16-1.414-1.414z\" />\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n", "import {ArrowLeftIcon, PlusIcon} from '@heroicons/react/24/solid'\nimport {\n\tButton,\n\tModal,\n\tNumberInput,\n\tTextInput,\n\tTextarea,\n\tclsx,\n} from '@mantine/core'\nimport {useDisclosure} from '@mantine/hooks'\nimport type {ActionFunction, LoaderArgs} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {Link, useFetcher, useLoaderData} from '@remix-run/react'\nimport {ObjectId} from 'bson'\nimport * as React from 'react'\nimport slugify from 'slugify'\nimport invariant from 'tiny-invariant'\nimport {z} from 'zod'\nimport {TailwindContainer} from '~/components/TailwindContainer'\nimport {db} from '~/db.server'\nimport {requireUser} from '~/session.server'\nimport {badRequest} from '~/utils/misc.server'\nimport type {inferErrors} from '~/utils/validation'\nimport {validateAction} from '~/utils/validation'\n\nexport const loader = async ({request}: LoaderArgs) => {\n\tconst user = await requireUser(request)\n\n\tinvariant(user?.foodTruckId, 'User must be associated with a food truck')\n\tconst items = await db.item.findMany({\n\t\twhere: {\n\t\t\trestaurantId: user?.foodTruckId,\n\t\t},\n\t})\n\n\treturn json({items})\n}\n\nenum MODE {\n\tedit,\n\tadd,\n}\n\nconst ManageFoodItemSchema = z.object({\n\titemId: z.string().optional(),\n\tname: z.string().min(1, 'Name is required'),\n\tdescription: z.string().min(1, 'Description is required'),\n\timage: z.string().min(1, 'Image is required'),\n\tprice: z.preprocess(Number, z.number().min(1, 'Price is required')),\n})\ninterface ActionData {\n\tsuccess: boolean\n\tfieldErrors?: inferErrors<typeof ManageFoodItemSchema>\n}\n\nexport const action: ActionFunction = async ({request}) => {\n\tconst staff = await requireUser(request)\n\n\tconst {fields, fieldErrors} = await validateAction(\n\t\trequest,\n\t\tManageFoodItemSchema\n\t)\n\n\tif (fieldErrors) {\n\t\treturn badRequest<ActionData>({success: false, fieldErrors})\n\t}\n\n\tconst {itemId, ...rest} = fields\n\tconst id = new ObjectId()\n\n\tawait db.item.upsert({\n\t\twhere: {\n\t\t\tid: itemId || id.toString(),\n\t\t},\n\t\tupdate: {...rest},\n\t\tcreate: {\n\t\t\t...rest,\n\t\t\tquantity: 1,\n\t\t\trestaurantId: staff.foodTruckId!,\n\t\t\tslug: slugify(rest.name) + '-' + Math.random().toString(36).slice(2),\n\t\t},\n\t})\n\treturn json({success: true})\n}\n\nexport default function ManageFoodItems() {\n\tconst fetcher = useFetcher<ActionData>()\n\tconst {items} = useLoaderData<typeof loader>()\n\n\ttype _Item = typeof items[number]\n\n\tconst [selectedItemId, setSelectedItemId] = React.useState<\n\t\t_Item['id'] | null\n\t>(null)\n\tconst [selectedItem, setSelectedItem] = React.useState<_Item | null>(null)\n\tconst [mode, setMode] = React.useState<MODE>(MODE.edit)\n\tconst [isModalOpen, handleModal] = useDisclosure(false)\n\n\tconst isSubmitting = fetcher.state !== 'idle'\n\n\tReact.useEffect(() => {\n\t\tif (fetcher.state !== 'idle' && fetcher.submission === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (fetcher.data?.success) {\n\t\t\tsetSelectedItemId(null)\n\t\t\thandleModal.close()\n\t\t}\n\t\t// handleModal is not meemoized, so we don't need to add it to the dependency array\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [fetcher.data?.success, fetcher.state, fetcher.submission])\n\n\tReact.useEffect(() => {\n\t\tif (!selectedItemId) {\n\t\t\tsetSelectedItem(null)\n\t\t\treturn\n\t\t}\n\n\t\tconst item = items.find(item => item.id === selectedItemId)\n\t\tif (!item) return\n\n\t\tsetSelectedItem(item)\n\t\thandleModal.open()\n\t\t// handleModal is not meemoized, so we don't need to add it to the dependency array\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [items, selectedItemId])\n\n\treturn (\n\t\t<>\n\t\t\t<TailwindContainer className=\"rounded-md bg-white\">\n\t\t\t\t<div className=\"mt-8 px-4 py-10 sm:px-6 lg:px-8\">\n\t\t\t\t\t<div className=\"sm:flex sm:flex-auto sm:items-center sm:justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tleftIcon={<ArrowLeftIcon className=\"h-4 w-4\" />}\n\t\t\t\t\t\t\t\tvariant=\"white\"\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto=\"..\"\n\t\t\t\t\t\t\t\tpl={0}\n\t\t\t\t\t\t\t\tmb={20}\n\t\t\t\t\t\t\t\tcolor=\"gray\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<h1 className=\"text-xl font-semibold text-gray-900\">\n\t\t\t\t\t\t\t\tManage Items\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"mt-2 text-sm text-gray-700\">\n\t\t\t\t\t\t\t\tManage the items that are available in your food truck.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\tloaderPosition=\"left\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetMode(MODE.add)\n\t\t\t\t\t\t\t\t\thandleModal.open()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PlusIcon className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t<span className=\"ml-2\">Add Item</span>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mt-8 flex flex-col\">\n\t\t\t\t\t\t<div className=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n\t\t\t\t\t\t\t<div className=\"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8\">\n\t\t\t\t\t\t\t\t<table className=\"min-w-full divide-y divide-gray-300\">\n\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 md:pl-0\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 md:pl-0\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\n\t\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"relative py-3.5 pl-3 pr-4 sm:pr-6 md:pr-0\"\n\t\t\t\t\t\t\t\t\t\t\t></th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody className=\"divide-y divide-gray-200\">\n\t\t\t\t\t\t\t\t\t\t{items.map(item => (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={item.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 md:pl-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"aspect-square h-8 w-8 rounded-full object-cover\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{item.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 md:pl-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${item.price.toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"relative space-x-4 whitespace-nowrap py-4 pl-3 pr-4 text-left text-sm font-medium sm:pr-6 md:pr-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedItemId(item.id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMode(MODE.edit)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</TailwindContainer>\n\n\t\t\t<Modal\n\t\t\t\topened={isModalOpen}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tsetSelectedItemId(null)\n\t\t\t\t\thandleModal.close()\n\t\t\t\t}}\n\t\t\t\ttitle={clsx({\n\t\t\t\t\t'Edit item': mode === MODE.edit,\n\t\t\t\t\t'Add item': mode === MODE.add,\n\t\t\t\t})}\n\t\t\t\tcentered\n\t\t\t\toverlayBlur={1.2}\n\t\t\t\toverlayOpacity={0.6}\n\t\t\t>\n\t\t\t\t<fetcher.Form method=\"post\" replace>\n\t\t\t\t\t<fieldset disabled={isSubmitting} className=\"flex flex-col gap-4\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t\t\tname=\"restaurantId\"\n\t\t\t\t\t\t\tvalue={selectedItem?.restaurantId}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"itemId\" value={selectedItem?.id} />\n\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\tdefaultValue={selectedItem?.name}\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.name}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\tdefaultValue={selectedItem?.description ?? ''}\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.description}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\tlabel=\"Price\"\n\t\t\t\t\t\t\tdefaultValue={selectedItem?.price}\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.price}\n\t\t\t\t\t\t\tprecision={2}\n\t\t\t\t\t\t\tstep={0.01}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\t\tlabel=\"Image URL\"\n\t\t\t\t\t\t\tdefaultValue={selectedItem?.image}\n\t\t\t\t\t\t\terror={fetcher.data?.fieldErrors?.image}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"mt-1 flex items-center justify-end gap-4\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetSelectedItem(null)\n\t\t\t\t\t\t\t\t\thandleModal.close()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\tloaderPosition=\"right\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{mode === MODE.edit ? 'Save changes' : 'Add item'}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</fetcher.Form>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n", "export default {'version':'cdfc3404','entry':{'module':'/build/entry.client-2JQK7CI7.js','imports':['/build/_shared/chunk-6SYYMMQY.js','/build/_shared/chunk-UFH62LDW.js','/build/_shared/chunk-ZQUOLQSI.js','/build/_shared/chunk-CUPSZOF3.js']},'routes':{'root':{'id':'root','parentId':undefined,'path':'','index':undefined,'caseSensitive':undefined,'module':'/build/root-W3VUQXSQ.js','imports':['/build/_shared/chunk-OJ2LWHKK.js','/build/_shared/chunk-7F6ZLUZP.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-UZCMH6HD.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':true,'hasErrorBoundary':false},'routes/__app':{'id':'routes/__app','parentId':'root','path':undefined,'index':undefined,'caseSensitive':undefined,'module':'/build/routes/__app-LIQULYWT.js','imports':['/build/_shared/chunk-VS375UY2.js','/build/_shared/chunk-3KJW2S5I.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__app/cart':{'id':'routes/__app/cart','parentId':'routes/__app','path':'cart','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__app/cart-OKAGPZY5.js','imports':['/build/_shared/chunk-4TDE3N6A.js','/build/_shared/chunk-YHX5YJJB.js','/build/_shared/chunk-GATEPLTS.js','/build/_shared/chunk-JKANZBLD.js','/build/_shared/chunk-7F6ZLUZP.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-UZCMH6HD.js','/build/_shared/chunk-YBUNVGL6.js','/build/_shared/chunk-YFVBINCX.js'],'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__app/index':{'id':'routes/__app/index','parentId':'routes/__app','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/__app/index-WQU2Q3LM.js','imports':['/build/_shared/chunk-GATEPLTS.js','/build/_shared/chunk-JKANZBLD.js','/build/_shared/chunk-UZCMH6HD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__app/items':{'id':'routes/__app/items','parentId':'routes/__app','path':'items','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__app/items-OEX6BTZ6.js','imports':['/build/_shared/chunk-7F6ZLUZP.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-UZCMH6HD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__app/items.$slug':{'id':'routes/__app/items.$slug','parentId':'routes/__app','path':'items/:slug','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__app/items.$slug-NLYDS4QB.js','imports':['/build/_shared/chunk-7F6ZLUZP.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-UZCMH6HD.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__app/order-history':{'id':'routes/__app/order-history','parentId':'routes/__app','path':'order-history','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__app/order-history-D7RO5LMP.js','imports':['/build/_shared/chunk-E4NFIK66.js','/build/_shared/chunk-YHX5YJJB.js','/build/_shared/chunk-GATEPLTS.js','/build/_shared/chunk-JKANZBLD.js','/build/_shared/chunk-7F6ZLUZP.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-UZCMH6HD.js','/build/_shared/chunk-YBUNVGL6.js','/build/_shared/chunk-YFVBINCX.js'],'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__app/restaurants':{'id':'routes/__app/restaurants','parentId':'routes/__app','path':'restaurants','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__app/restaurants-Q3F2SMNS.js','imports':['/build/_shared/chunk-UZCMH6HD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__app/restaurants.$slug':{'id':'routes/__app/restaurants.$slug','parentId':'routes/__app','path':'restaurants/:slug','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__app/restaurants.$slug-JXF3GQUC.js','imports':['/build/_shared/chunk-E4NFIK66.js','/build/_shared/chunk-7F6ZLUZP.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-UZCMH6HD.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__auth':{'id':'routes/__auth','parentId':'root','path':undefined,'index':undefined,'caseSensitive':undefined,'module':'/build/routes/__auth-FBJ3DJH7.js','imports':['/build/_shared/chunk-3KJW2S5I.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__auth/login':{'id':'routes/__auth/login','parentId':'routes/__auth','path':'login','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__auth/login-4AC7HIH6.js','imports':['/build/_shared/chunk-VXMXG3N5.js','/build/_shared/chunk-YFVBINCX.js'],'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__auth/register':{'id':'routes/__auth/register','parentId':'routes/__auth','path':'register','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__auth/register-I64WHGN6.js','imports':['/build/_shared/chunk-YBUNVGL6.js','/build/_shared/chunk-VXMXG3N5.js','/build/_shared/chunk-YFVBINCX.js'],'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/admin':{'id':'routes/admin','parentId':'root','path':'admin','index':undefined,'caseSensitive':undefined,'module':'/build/routes/admin-2O4QWKRK.js','imports':['/build/_shared/chunk-VS375UY2.js','/build/_shared/chunk-3KJW2S5I.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/admin/index':{'id':'routes/admin/index','parentId':'routes/admin','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/admin/index-DJDDIJXZ.js','imports':['/build/_shared/chunk-5D5P6QKI.js','/build/_shared/chunk-GY2CB72M.js','/build/_shared/chunk-E4NFIK66.js','/build/_shared/chunk-4TDE3N6A.js','/build/_shared/chunk-GATEPLTS.js','/build/_shared/chunk-JKANZBLD.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-YFVBINCX.js'],'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/api/auth/logout':{'id':'routes/api/auth/logout','parentId':'root','path':'api/auth/logout','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api/auth/logout-MBXCJVAB.js','imports':undefined,'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/api/food-trucks/schedule':{'id':'routes/api/food-trucks/schedule','parentId':'root','path':'api/food-trucks/schedule','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api/food-trucks/schedule-CL77R65O.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/api/reset-password':{'id':'routes/api/reset-password','parentId':'root','path':'api/reset-password','index':undefined,'caseSensitive':undefined,'module':'/build/routes/api/reset-password-LRPPVY2Q.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/staff':{'id':'routes/staff','parentId':'root','path':'staff','index':undefined,'caseSensitive':undefined,'module':'/build/routes/staff-43UIK26Q.js','imports':['/build/_shared/chunk-VS375UY2.js','/build/_shared/chunk-3KJW2S5I.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/staff/employees':{'id':'routes/staff/employees','parentId':'routes/staff','path':'employees','index':undefined,'caseSensitive':undefined,'module':'/build/routes/staff/employees-6XQ2K7NM.js','imports':['/build/_shared/chunk-GY2CB72M.js','/build/_shared/chunk-E4NFIK66.js','/build/_shared/chunk-GATEPLTS.js','/build/_shared/chunk-JKANZBLD.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-UZCMH6HD.js','/build/_shared/chunk-YFVBINCX.js'],'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/staff/index':{'id':'routes/staff/index','parentId':'routes/staff','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/staff/index-QFV36LYL.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/staff/items':{'id':'routes/staff/items','parentId':'routes/staff','path':'items','index':undefined,'caseSensitive':undefined,'module':'/build/routes/staff/items-WK264O5M.js','imports':['/build/_shared/chunk-5D5P6QKI.js','/build/_shared/chunk-GY2CB72M.js','/build/_shared/chunk-AUYLHJJM.js','/build/_shared/chunk-E4NFIK66.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-YFVBINCX.js'],'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/staff/orders':{'id':'routes/staff/orders','parentId':'routes/staff','path':'orders','index':undefined,'caseSensitive':undefined,'module':'/build/routes/staff/orders-TYQKCGZB.js','imports':['/build/_shared/chunk-AUYLHJJM.js','/build/_shared/chunk-E4NFIK66.js','/build/_shared/chunk-GATEPLTS.js','/build/_shared/chunk-JKANZBLD.js','/build/_shared/chunk-DI4S2ION.js','/build/_shared/chunk-YBUNVGL6.js'],'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false}},'url':'/build/manifest-CDFC3404.js'};", "\nimport * as entryServer from \"./entry.server.tsx\";\nimport * as route0 from \"./root.tsx\";\nimport * as route1 from \"./routes/api/food-trucks/schedule.ts\";\nimport * as route2 from \"./routes/api/reset-password.ts\";\nimport * as route3 from \"./routes/api/auth/logout.tsx\";\nimport * as route4 from \"./routes/__auth.tsx\";\nimport * as route5 from \"./routes/__auth/register.tsx\";\nimport * as route6 from \"./routes/__auth/login.tsx\";\nimport * as route7 from \"./routes/__app.tsx\";\nimport * as route8 from \"./routes/__app/restaurants.$slug.tsx\";\nimport * as route9 from \"./routes/__app/order-history.tsx\";\nimport * as route10 from \"./routes/__app/items.$slug.tsx\";\nimport * as route11 from \"./routes/__app/restaurants.tsx\";\nimport * as route12 from \"./routes/__app/index.tsx\";\nimport * as route13 from \"./routes/__app/items.tsx\";\nimport * as route14 from \"./routes/__app/cart.tsx\";\nimport * as route15 from \"./routes/admin.tsx\";\nimport * as route16 from \"./routes/admin/index.tsx\";\nimport * as route17 from \"./routes/staff.tsx\";\nimport * as route18 from \"./routes/staff/employees.tsx\";\nimport * as route19 from \"./routes/staff/orders.tsx\";\nimport * as route20 from \"./routes/staff/index.tsx\";\nimport * as route21 from \"./routes/staff/items.tsx\";\n  export { default as assets } from \"@remix-run/dev/assets-manifest\";\n  export const assetsBuildDirectory = \"public/build\";\n  export const publicPath = \"/build/\";\n  export const entry = { module: entryServer };\n  export const routes = {\n    \"root\": {\n      id: \"root\",\n      parentId: undefined,\n      path: \"\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route0\n    },\n  \"routes/api/food-trucks/schedule\": {\n      id: \"routes/api/food-trucks/schedule\",\n      parentId: \"root\",\n      path: \"api/food-trucks/schedule\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route1\n    },\n  \"routes/api/reset-password\": {\n      id: \"routes/api/reset-password\",\n      parentId: \"root\",\n      path: \"api/reset-password\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route2\n    },\n  \"routes/api/auth/logout\": {\n      id: \"routes/api/auth/logout\",\n      parentId: \"root\",\n      path: \"api/auth/logout\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route3\n    },\n  \"routes/__auth\": {\n      id: \"routes/__auth\",\n      parentId: \"root\",\n      path: undefined,\n      index: undefined,\n      caseSensitive: undefined,\n      module: route4\n    },\n  \"routes/__auth/register\": {\n      id: \"routes/__auth/register\",\n      parentId: \"routes/__auth\",\n      path: \"register\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route5\n    },\n  \"routes/__auth/login\": {\n      id: \"routes/__auth/login\",\n      parentId: \"routes/__auth\",\n      path: \"login\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route6\n    },\n  \"routes/__app\": {\n      id: \"routes/__app\",\n      parentId: \"root\",\n      path: undefined,\n      index: undefined,\n      caseSensitive: undefined,\n      module: route7\n    },\n  \"routes/__app/restaurants.$slug\": {\n      id: \"routes/__app/restaurants.$slug\",\n      parentId: \"routes/__app\",\n      path: \"restaurants/:slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route8\n    },\n  \"routes/__app/order-history\": {\n      id: \"routes/__app/order-history\",\n      parentId: \"routes/__app\",\n      path: \"order-history\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route9\n    },\n  \"routes/__app/items.$slug\": {\n      id: \"routes/__app/items.$slug\",\n      parentId: \"routes/__app\",\n      path: \"items/:slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route10\n    },\n  \"routes/__app/restaurants\": {\n      id: \"routes/__app/restaurants\",\n      parentId: \"routes/__app\",\n      path: \"restaurants\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route11\n    },\n  \"routes/__app/index\": {\n      id: \"routes/__app/index\",\n      parentId: \"routes/__app\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route12\n    },\n  \"routes/__app/items\": {\n      id: \"routes/__app/items\",\n      parentId: \"routes/__app\",\n      path: \"items\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route13\n    },\n  \"routes/__app/cart\": {\n      id: \"routes/__app/cart\",\n      parentId: \"routes/__app\",\n      path: \"cart\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route14\n    },\n  \"routes/admin\": {\n      id: \"routes/admin\",\n      parentId: \"root\",\n      path: \"admin\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route15\n    },\n  \"routes/admin/index\": {\n      id: \"routes/admin/index\",\n      parentId: \"routes/admin\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route16\n    },\n  \"routes/staff\": {\n      id: \"routes/staff\",\n      parentId: \"root\",\n      path: \"staff\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route17\n    },\n  \"routes/staff/employees\": {\n      id: \"routes/staff/employees\",\n      parentId: \"routes/staff\",\n      path: \"employees\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route18\n    },\n  \"routes/staff/orders\": {\n      id: \"routes/staff/orders\",\n      parentId: \"routes/staff\",\n      path: \"orders\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route19\n    },\n  \"routes/staff/index\": {\n      id: \"routes/staff/index\",\n      parentId: \"routes/staff\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route20\n    },\n  \"routes/staff/items\": {\n      id: \"routes/staff/items\",\n      parentId: \"routes/staff\",\n      path: \"items\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route21\n    }\n  };"],
  "mappings": "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",
  "names": ["import_core", "import_notifications", "import_remix", "import_node", "import_react", "import_react", "import_react", "React", "import_react", "route", "foodTruck", "item", "import_client", "import_client", "bcrypt", "password", "email", "password", "invariant", "import_node", "import_node", "email", "name", "action", "import_node", "action", "password", "action", "loader", "import_node", "action", "loader", "loader", "import_node", "import_react", "loader", "action", "import_core", "import_client", "import_react", "action", "email", "password", "action", "import_core", "import_react", "action", "email", "password", "loader", "import_core", "import_node", "import_react", "import_core", "loader", "loader", "import_core", "import_node", "import_react", "loader", "action", "loader", "import_solid", "import_core", "import_hooks", "import_client", "import_node", "import_react", "React", "import_client", "loader", "action", "cancelOrder", "_a", "loader", "import_core", "import_node", "import_react", "React", "loader", "import_core", "import_react", "app_exports", "import_core", "import_react", "Restaurants", "import_core", "import_react", "Restaurants", "action", "import_solid", "import_core", "import_notifications", "import_client", "import_node", "import_react", "React", "action", "EmptyState", "ReactInputMask", "AppLayout", "loader", "import_solid", "import_core", "import_node", "import_react", "loader", "AppLayout", "HeaderComponent", "FooterComponent", "admin_exports", "action", "loader", "import_solid", "import_core", "import_dates", "import_hooks", "import_node", "import_react", "React", "import_zod", "loader", "action", "slugify", "_a", "AppLayout", "loader", "import_solid", "import_core", "import_hooks", "import_node", "import_react", "React", "loader", "AppLayout", "HeaderComponent", "FooterComponent", "action", "loader", "import_solid", "import_core", "import_hooks", "import_node", "import_react", "React", "import_zod", "loader", "action", "_a", "action", "loader", "import_solid", "import_core", "import_hooks", "import_client", "import_node", "import_react", "React", "import_tiny_invariant", "loader", "action", "invariant", "staff_exports", "loader", "import_node", "import_react", "loader", "action", "items_exports", "action", "loader", "import_solid", "import_core", "import_hooks", "import_node", "import_react", "import_bson", "React", "import_slugify", "import_tiny_invariant", "import_zod", "loader", "invariant", "action", "slugify", "_a", "item", "app_exports", "admin_exports", "staff_exports", "items_exports"]
}
